<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=0.6, maximum-scale=5.0, user-scalable=yes"/>
<title>Futsal Season Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0a0b0d;
  --panel:#16161a;
  --panel-2:#1a1a1f;
  --border:rgba(255,255,255,.06);
  --border-hover:rgba(255,255,255,.12);
  --muted:rgba(255,255,255,.65);
  --muted-2:rgba(255,255,255,.45);
  --white:#fff;
  --red:#ff2d55;
  --red-2:#ff0033;
  --green:#39ff14;
  --green-soft:rgba(57,255,20,.12);
  --ring:rgba(57,255,20,.25);
  --shadow-sm:0 2px 8px rgba(0,0,0,.15);
  --shadow-md:0 8px 32px rgba(0,0,0,.25);
  --shadow-lg:0 20px 60px rgba(0,0,0,.4);
  --shadow-glow:0 0 40px rgba(57,255,20,.15);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:
    radial-gradient(1200px 800px at 0% 0%, rgba(255,45,85,.08), transparent 50%),
    radial-gradient(1000px 700px at 100% 100%, rgba(57,255,20,.06), transparent 50%),
    radial-gradient(800px 800px at 50% 50%, rgba(138,43,226,.03), transparent 70%),
    var(--bg);
  color:var(--white);
  letter-spacing:-.01em;
  /* overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale; */
}

/* ---------- Layout ---------- */
.app{
  display:grid;
  grid-template-columns: 1fr 340px;
  gap:24px;
  min-height:100vh;
  padding:24px;
}
@media (max-width:1200px){
  .app{ grid-template-columns: 1fr; }
}
@media (max-width:880px){
  .app{grid-template-columns:1fr}
  .brand span, .nav .label{display:none}
}

/* ---------- Sidebar ---------- */
.sidebar{
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01)), var(--panel);
  border:1px solid var(--border);
  border-radius:24px;
  padding:24px;
  backdrop-filter: blur(20px);
  box-shadow: var(--shadow-lg), inset 0 1px 0 rgba(255,255,255,.08);
  position:relative;
  overflow:hidden;
}
.sidebar::before{
  content:'';
  position:absolute;
  inset:-100%;
  background:conic-gradient(from 0deg at 50% 50%, transparent, rgba(57,255,20,.05), transparent 60%);
  animation:rotate 15s linear infinite;
  pointer-events:none;
}
@keyframes rotate{to{transform:rotate(360deg)}}

.brand{
  display:flex; align-items:center; gap:12px; margin-bottom:24px; position:relative; z-index:1;
}
.brand .dot{
  width:16px; height:16px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #fff, transparent 70%),
              linear-gradient(135deg, var(--red), var(--green));
  box-shadow: 0 0 20px rgba(255,45,85,.6), 0 0 40px rgba(57,255,20,.4), 0 4px 12px rgba(0,0,0,.3);
  animation:pulse 3s ease-in-out infinite;
}
@keyframes pulse{
  0%, 100%{transform:scale(1); opacity:1;}
  50%{transform:scale(1.1); opacity:.9;}
}
.brand span{
  font-weight:800; letter-spacing:-.02em; font-size:19px;
  background:linear-gradient(135deg, var(--white) 0%, rgba(255,255,255,.7) 100%);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  text-shadow:0 2px 10px rgba(255,255,255,.1);
}

.nav{display:flex; flex-direction:column; gap:6px; margin-top:12px; position:relative; z-index:1}
.nav a{
  display:flex; align-items:center; gap:14px;
  padding:14px 16px;
  border-radius:16px;
  text-decoration:none; color:var(--muted);
  border:1px solid transparent;
  transition:all .3s cubic-bezier(.4,0,.2,1);
  font-weight:500;
  position:relative;
  overflow:hidden;
}
.nav a::before{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(135deg, rgba(255,255,255,.06), transparent);
  opacity:0;
  transition:opacity .3s;
}
.nav a svg{opacity:.7; transition:all .3s;}
.nav a:hover{
  background:rgba(255,255,255,.03); 
  color:var(--white); 
  border-color:var(--border-hover); 
  transform:translateX(4px);
}
.nav a:hover::before{opacity:1;}
.nav a:hover svg{opacity:1; transform:scale(1.1);}
.nav a.active{
  background:linear-gradient(135deg, rgba(57,255,20,.15), rgba(255,45,85,.12));
  color:var(--white); 
  border-color:rgba(57,255,20,.3);
  box-shadow:0 8px 24px rgba(57,255,20,.2), inset 0 1px 0 rgba(255,255,255,.1);
  font-weight:600;
}
.nav a.active svg{opacity:1;}

/* ---------- Top Bar ---------- */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:28px; gap:20px;
}
.title{
  display:flex; flex-direction:column; gap:2px;
}
.title h1{
  margin:0; font-size:32px; letter-spacing:-.02em; font-weight:800;
  background:linear-gradient(135deg, var(--white), rgba(255,255,255,.8));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.title small{color:var(--muted-2); margin-top:4px; font-size:13px; font-weight:500;}

.search{
  display:flex; align-items:center; gap:12px;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px; padding:12px 18px; min-width:280px;
  transition:all .3s cubic-bezier(.4,0,.2,1);
  box-shadow:var(--shadow-sm);
}
.search:focus-within{
  border-color:var(--border-hover);
  box-shadow:0 4px 20px rgba(0,0,0,.2), 0 0 0 3px rgba(57,255,20,.08);
  transform:translateY(-1px);
}
.search input{
  background:transparent; border:none; color:var(--white); outline:none; width:100%;
  font-size:14px; font-weight:500;
}
.search input::placeholder{color:var(--muted-2);}

.controls{
  display:flex; gap:6px; align-items:center;
  background:var(--panel);
  border:1px solid var(--border);
  padding:6px; border-radius:16px;
  box-shadow:var(--shadow-sm);
}
.btn{
  padding:11px 20px; background:transparent; border:none; color:var(--muted);
  font-weight:600; border-radius:12px; cursor:pointer; 
  transition:all .3s cubic-bezier(.4,0,.2,1);
  font-size:14px; position:relative; overflow:hidden;
}
.btn::before{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(135deg, rgba(255,255,255,.08), transparent);
  opacity:0;
  transition:opacity .3s;
}
.btn:hover{
  color:var(--white); 
  background:rgba(255,255,255,.05);
  transform:translateY(-1px);
}
.btn:hover::before{opacity:1;}
.btn.active{
  background:linear-gradient(135deg, rgba(57,255,20,.18), rgba(57,255,20,.12)); 
  color:var(--green); 
  box-shadow:0 0 0 1px var(--ring) inset, 0 4px 16px rgba(57,255,20,.25);
}

/* ---------- Cards / Grid ---------- */
.panel{
  background:
    linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.01)),
    var(--panel);
  border:1px solid var(--border);
  border-radius:24px;
  padding:28px;
  box-shadow: var(--shadow-md);
  transition:all .4s cubic-bezier(.4,0,.2,1);
  position:relative;
  overflow:hidden;
}
.panel::before{
  content:'';
  position:absolute;
  top:0; left:0; right:0;
  height:1px;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,.15), transparent);
}
.panel:hover{
  transform:translateY(-4px); 
  border-color:rgba(57,255,20,.2);
  box-shadow:var(--shadow-lg), var(--shadow-glow);
}

.section-title{
  font-size:11px; letter-spacing:2px; text-transform:uppercase;
  color:rgba(255,255,255,.5); margin-bottom:20px; display:flex; gap:10px; align-items:center;
  font-weight:700;
}

.grid{
  display:grid; gap:18px; grid-template-columns:repeat(12, 1fr);
}
.leaderboard{grid-column:1 / -1}
.hot-streak-card{grid-column: span 6}
.stat-card{grid-column: span 3}
@media (max-width:1024px){ .hot-streak-card,.stat-card{grid-column: span 6} }
@media (max-width:720px){ .hot-streak-card,.stat-card,.leaderboard{grid-column: 1 / -1} }

/* ---------- Table ---------- */
table{width:100%; border-collapse:separate; border-spacing:0 8px}
thead th{
  font-size:10px; text-transform:uppercase; letter-spacing:1.5px; 
  color:var(--muted-2); padding:0 16px 12px 16px; text-align:left;
  border-bottom:1px solid var(--border); font-weight:700;
}
tbody tr{
  background:linear-gradient(135deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
  border:1px solid var(--border);
  border-radius:16px; overflow:hidden;
  transition:all .3s cubic-bezier(.4,0,.2,1);
}
tbody tr:hover{
  background:linear-gradient(135deg, rgba(57,255,20,.08), rgba(57,255,20,.04)); 
  border-color:rgba(57,255,20,.3);
  transform:translateX(4px);
  box-shadow:0 4px 16px rgba(57,255,20,.15);
}
td{padding:16px; font-size:14px; font-weight:500;}

.rank{
  font-weight:800; font-size:17px; padding:8px 14px; border-radius:12px;
  color:var(--white); 
  background:linear-gradient(135deg, rgba(255,45,85,.3), rgba(255,45,85,.15)); 
  border:1px solid rgba(255,45,85,.4);
  box-shadow:0 4px 12px rgba(255,45,85,.25), inset 0 1px 0 rgba(255,255,255,.1);
  display:inline-block;
}
.rank-change{
  font-size:11px; padding:5px 8px; border-radius:10px; margin-left:10px; 
  font-weight:700; border:1px solid transparent;
  display:inline-block;
  white-space:nowrap;
}
@media (max-width:720px){
  .rank-change{
    font-size:10px;
    padding:4px 6px;
    margin-left:6px;
  }
  .rank{
    font-size:15px;
    padding:6px 10px;
  }
}
.rank-up{
  color:var(--green); 
  background:linear-gradient(135deg, rgba(57,255,20,.18), rgba(57,255,20,.1)); 
  border-color:var(--ring);
  box-shadow:0 2px 8px rgba(57,255,20,.2);
}
.rank-down{
  color:var(--red); 
  background:linear-gradient(135deg, rgba(255,45,85,.18), rgba(255,45,85,.1)); 
  border-color:rgba(255,45,85,.35);
  box-shadow:0 2px 8px rgba(255,45,85,.2);
}

.points{
  font-weight:800; font-size:16px;
  background:linear-gradient(120deg, var(--green), #c7ffc7);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  text-shadow:0 0 20px rgba(57,255,20,.3);
}

/* ---------- Metric Items ---------- */
.metric-item{
  background:linear-gradient(135deg, rgba(255,255,255,.04), rgba(255,255,255,.01));
  border:1px solid var(--border);
  padding:18px; border-radius:16px; margin-bottom:12px;
  transition:all .3s cubic-bezier(.4,0,.2,1);
  position:relative;
  overflow:hidden;
}
.metric-item::before{
  content:'';
  position:absolute;
  top:0; left:0; right:0;
  height:1px;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,.1), transparent);
}
.metric-item:hover{
  border-color:rgba(57,255,20,.25); 
  transform:translateX(6px);
  box-shadow:0 4px 16px rgba(57,255,20,.1);
  background:linear-gradient(135deg, rgba(57,255,20,.06), rgba(255,255,255,.02));
}
.metric-player{font-weight:700; font-size:15px;}
.metric-value{color:var(--muted); font-size:13px; margin-top:8px; line-height:1.6;}
.new-player{color:var(--green); font-weight:700;}

/* ---------- Hot Streak ---------- */
.hot-streak{
  text-align:center; padding:48px 32px; border-radius:20px;
  border:1px solid rgba(57,255,20,.3);
  background:
    radial-gradient(800px 300px at 50% 0%, rgba(57,255,20,.2), transparent 60%),
    radial-gradient(600px 300px at 50% 100%, rgba(255,45,85,.15), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
  position:relative; overflow:hidden;
  box-shadow:0 0 60px rgba(57,255,20,.2), inset 0 1px 0 rgba(255,255,255,.1);
}
.hot-streak::after{
  content:""; position:absolute; inset:-60%;
  background:conic-gradient(from 0deg, transparent, rgba(57,255,20,.3), rgba(255,45,85,.25), transparent);
  filter:blur(80px); animation:spin 10s linear infinite; opacity:.4;
}
@keyframes spin{to{transform:rotate(1turn)}}
.hot-streak-player{
  font-size:36px; font-weight:900; color:var(--green); letter-spacing:-.03em;
  position:relative; z-index:1;
  text-shadow:0 0 40px rgba(57,255,20,.6), 0 4px 20px rgba(0,0,0,.3);
}
.hot-streak-desc{
  color:var(--muted); position:relative; z-index:1; margin-top:12px; 
  font-size:15px; font-weight:500;
}

/* ---------- Team chips ---------- */
.weekly-team{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(150px,1fr)); gap:14px;
}
.team-player{
  text-align:center; padding:20px 16px; border-radius:18px;
  background:linear-gradient(135deg, rgba(57,255,20,.12), rgba(57,255,20,.06));
  border:1px solid rgba(57,255,20,.3);
  transition:all .3s cubic-bezier(.4,0,.2,1);
  position:relative;
  overflow:hidden;
}
.team-player::before{
  content:'';
  position:absolute;
  top:0; left:0; right:0;
  height:1px;
  background:linear-gradient(90deg, transparent, rgba(57,255,20,.4), transparent);
}
.team-player:hover{
  transform:translateY(-4px) scale(1.02); 
  box-shadow:0 12px 32px rgba(57,255,20,.25);
  border-color:rgba(57,255,20,.5);
}
.team-player-name{font-weight:800; color:var(--green); font-size:15px; letter-spacing:-.01em;}
.team-player-stats{color:var(--muted); font-size:12px; margin-top:6px; font-weight:500;}

/* ---------- Right Aside ---------- */
.aside .widget+.widget{margin-top:20px}
.kpi{
  display:flex; align-items:center; gap:18px;
}
.kpi .ring{
  width:72px; height:72px; border-radius:50%;
  background: conic-gradient(var(--green) calc(var(--p)*1%), rgba(255,255,255,.08) 0);
  display:grid; place-items:center;
  border:1px solid var(--border);
  box-shadow:0 0 30px rgba(57,255,20,.3), inset 0 0 20px rgba(0,0,0,.3);
  position:relative;
}
.kpi .ring::before{
  content:'';
  position:absolute;
  inset:8px;
  border-radius:50%;
  background:var(--panel);
  border:1px solid var(--border);
}
.kpi .ring span{
  font-weight:900; font-size:16px; position:relative; z-index:1;
  background:linear-gradient(135deg, var(--green), #c7ffc7);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.badge{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 14px; border-radius:999px; font-weight:700; font-size:12px;
  background:linear-gradient(135deg, rgba(255,45,85,.2), rgba(255,45,85,.12)); 
  border:1px solid rgba(255,45,85,.4);
  box-shadow:0 4px 12px rgba(255,255,255,.2), inset 0 1px 0 rgba(255,255,255,.08);
  animation:pulse-badge 2s ease-in-out infinite;
}
@keyframes pulse-badge{
  0%, 100%{transform:scale(1); opacity:1;}
  50%{transform:scale(1.05); opacity:.9;}
}
.small{font-size:12px; color:var(--muted); font-weight:500; margin-top:6px;}
.header-card{
  display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap;
}

/* ---------- Week selector ---------- */
.week-selector{margin-bottom:20px; text-align:center}
.week-selector select{
  padding:14px 20px; 
  background:var(--panel);
  color:var(--white);
  border:1px solid var(--border);
  border-radius:14px;
  font-weight:600;
  outline:none;
  cursor:pointer;
  transition:all .3s cubic-bezier(.4,0,.2,1);
  font-size:14px;
  box-shadow:var(--shadow-sm);
}
.week-selector select option{
  background:var(--panel);
  color:var(--white);
  padding:10px;
}
.week-selector select:hover{
  border-color:rgba(57,255,20,.35);
  background:linear-gradient(135deg, rgba(57,255,20,.08), rgba(255,255,255,.02));
  transform:translateY(-2px);
  box-shadow:0 4px 16px rgba(57,255,20,.15);
}
.week-selector select:focus{
  border-color:rgba(57,255,20,.5);
  box-shadow:0 0 0 3px rgba(57,255,20,.15), 0 4px 16px rgba(57,255,20,.2);
}
.empty-state{
  text-align:center; 
  color:var(--muted-2); 
  padding:32px 20px;
  font-weight:500;
  font-size:14px;
}
.spinner-container{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:40px 20px;
  gap:16px;
}
.spinner{
  width:40px;
  height:40px;
  border:3px solid var(--border);
  border-top-color:var(--green);
  border-radius:50%;
  animation:spin 0.8s linear infinite;
}
@keyframes spin{
  to{transform:rotate(360deg);}
}
.player-name{font-weight:600; letter-spacing:-.01em;}

/* Scrollable lists used in compact stat cards */
.scroll-list{
  max-height: 520px;
  overflow-y: auto;
  padding-right: 4px;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,1) 85%, rgba(0,0,0,.2));
}

/* Tighten list items slightly in scroll areas so more fit */
.scroll-list .metric-item{
  margin-bottom:10px;
  padding:16px;
}

/* Optional: subtle custom scrollbar */
.scroll-list::-webkit-scrollbar{ width: 8px; }
.scroll-list::-webkit-scrollbar-track{ background: transparent; }
.scroll-list::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,.12);
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,.08);
}
.scroll-list:hover::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.22); }

/* Firefox scrollbar */
.scroll-list{ scrollbar-width: thin; scrollbar-color: rgba(255,255,255,.22) transparent; }

/* Mobile: keep it a bit shorter so it doesn't dominate */
@media (max-width:720px){
  .scroll-list{ max-height: 220px; }
}

/* --- Scrollable Leaderboard / Tables --- */
.scroll-table{
  max-height: 840px;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  padding-top: 4px;
  padding-right: 4px;
  border-radius: 16px;
}

/* Let tables scroll horizontally on small screens */
@media (max-width: 820px){
  .scroll-table{ overflow-x: auto; }
  .scroll-table table{ min-width: 680px; } /* keeps columns readable */
}

/* Weekly table wrapper (adds horizontal scroll when needed) */
.table-wrap{
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
}
.table-wrap table{ width:100%; }
@media (max-width:820px){
  .table-wrap table{ min-width: 560px; } /* fewer cols than leaderboard */
}

/* Keep table metrics intact inside scroll area */
.scroll-table table{
  width: 100%;
  border-collapse: separate;
  border-spacing: 0 8px;
  margin: 0;
}

/* Sticky header */
.scroll-table thead th{
  position: sticky;
  top: 0;
  z-index: 5;
  background: var(--panel);
  box-shadow: 0 2px 4px rgba(0,0,0,.4);
  padding: 12px 16px;
  line-height: 1.25;
  white-space: nowrap;
}

.scroll-table th,
.scroll-table td{ vertical-align: middle; }

.scroll-table::-webkit-scrollbar{ width: 8px; }
.scroll-table::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,.12);
  border-radius: 8px;
}
.scroll-table:hover::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.25); }
.scroll-table{ scrollbar-width: thin; scrollbar-color: rgba(255,255,255,.22) transparent; }

/* ---------- Team Balancer ---------- */
.player-checkbox{
  display:flex; align-items:center; gap:12px;
  padding:16px 20px;
  background:linear-gradient(135deg, rgba(255,255,255,.04), rgba(255,255,255,.01));
  border:1px solid var(--border);
  border-radius:16px;
  margin-bottom:8px;
  transition:all .3s cubic-bezier(.4,0,.2,1);
  cursor:pointer;
  user-select:none;
  -webkit-user-select:none;
  min-height:56px;
}
.player-checkbox:hover{
  border-color:rgba(57,255,20,.25);
  background:linear-gradient(135deg, rgba(57,255,20,.06), rgba(255,255,255,.02));
  transform:translateX(4px);
  box-shadow:0 2px 8px rgba(57,255,20,.1);
}
.player-checkbox input[type="checkbox"]{
  width:22px; height:22px;
  cursor:pointer;
  accent-color:var(--green);
  flex-shrink:0;
  margin:0;
}
.player-checkbox-label{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  cursor:pointer;
}
.player-checkbox-name{
  font-weight:600; font-size:15px;
}
.player-checkbox-stats{
  font-size:12px; color:var(--muted);
  display:flex; gap:12px;
}

.team-container{
  margin-bottom:24px;
  padding:20px;
  background:linear-gradient(135deg, rgba(57,255,20,.08), rgba(255,45,85,.05));
  border:1px solid rgba(57,255,20,.2);
  border-radius:20px;
}
.team-header{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:16px;
  padding-bottom:12px;
  border-bottom:1px solid var(--border);
}
.team-title{
  font-weight:800; font-size:20px;
  background:linear-gradient(135deg, var(--green), #c7ffc7);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.team-stats{
  display:flex; gap:16px;
  font-size:12px; color:var(--muted);
}
.team-stats span{
  font-weight:600; color:var(--white);
}
.team-players{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(150px, 1fr));
  gap:12px;
}
.team-player-card{
  padding:12px 16px;
  background:rgba(255,255,255,.03);
  border:1px solid var(--border);
  border-radius:12px;
  text-align:center;
  transition:all .3s;
}
.team-player-card:hover{
  border-color:rgba(57,255,20,.4);
  transform:translateY(-2px);
  box-shadow:0 4px 12px rgba(57,255,20,.15);
}
.team-player-card-name{
  font-weight:700; font-size:14px; margin-bottom:4px;
}
.team-player-card-stats{
  font-size:11px; color:var(--muted-2);
}

/* Range input styling */
input[type="range"]{
  -webkit-appearance:none;
  appearance:none;
  height:6px;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:3px;
  outline:none;
  cursor:pointer;
}
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none;
  appearance:none;
  width:18px;
  height:18px;
  background:var(--green);
  border:2px solid var(--panel);
  border-radius:50%;
  cursor:pointer;
  box-shadow:0 2px 8px rgba(57,255,20,.3);
  transition:all .2s;
}
input[type="range"]::-webkit-slider-thumb:hover{
  transform:scale(1.1);
  box-shadow:0 4px 12px rgba(57,255,20,.5);
}
input[type="range"]::-moz-range-thumb{
  width:18px;
  height:18px;
  background:var(--green);
  border:2px solid var(--panel);
  border-radius:50%;
  cursor:pointer;
  box-shadow:0 2px 8px rgba(57,255,20,.3);
}
input[type="range"]::-moz-range-track{
  height:6px;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:3px;
}
</style>
</head>
<body>
  <div class="app">

    <!-- Main -->
    <main>
      <div class="topbar">
        <div class="title">
          <h1>Torpedo Vintervargen</h1>
          <small>2025 / 26 ‚Ä¢ Weekly stats</small>
        </div>
        <div class="header-card">
          <div class="controls">
            <button class="btn" onclick="showView('total')">Total Season</button>
            <button class="btn" onclick="showView('weekly')">Practice View</button>
            <button class="btn" onclick="showView('teams')">Team Balancer</button>
          </div>
        </div>
      </div>

      <!-- TOTAL VIEW -->
      <section id="totalView" style="display:none;">
        <div class="grid">
          <div class="panel leaderboard">
            <div class="section-title">üèÜ Leaderboard</div>
              <div class="scroll-table">
                <table>
                  <thead>
                    <tr>
                      <th>Rank</th><th>Player</th><th>Points</th>
                      <th>Attendance</th><th>Goals</th><th>Assists</th><th>Clean Sheets</th><th>√úbertorped</th>
                    </tr>
                  </thead>
                  <tbody id="leaderboardBody"></tbody>
              </table>
            </div>
          </div>

          <div class="panel hot-streak-card">
            <div class="section-title">üî• Hot Streak</div>
            <div id="hotStreak"></div>
          </div>

          <div class="panel stat-card">
            <div class="section-title">üìä Active Streaks</div>
            <div id="activeStreaks" class="scroll-list"></div>
          </div>

          <div class="panel stat-card">
            <div class="section-title">üéØ Milestones</div>
            <div id="milestones" class="scroll-list"></div>
          </div>

          <div class="panel stat-card">
            <div class="section-title">üìà Biggest Climber</div>
            <div id="biggestClimber"></div>
          </div>

          <div class="panel stat-card">
            <div class="section-title">üìÖ Season Stats</div>
            <div id="seasonStats"></div>
          </div>
        </div>
      </section>

      <!-- WEEKLY VIEW -->
      <section id="weeklyView" style="display:none;">
        <div class="panel" style="margin-bottom:18px;">
          <div class="section-title">Week</div>
          <div class="week-selector">
            <select id="weekSelect" onchange="updatePracticeView()"></select>
          </div>
        </div>

        <div class="panel leaderboard" id="teamScoreboardPanel" style="display:none; margin-bottom:18px;">
          <div class="section-title">üèÜ Team Scoreboard</div>
          <div id="teamScoreboard"></div>
        </div>

        <div class="panel leaderboard" id="matchTimelinePanel" style="display:none; margin-bottom:18px;">
          <div class="section-title">‚öΩ Match Results Timeline</div>
          <div id="matchTimeline"></div>
        </div>

        <div class="panel leaderboard" id="headToHeadPanel" style="display:none; margin-bottom:18px;">
          <div class="section-title">üÜö Head-to-Head Statistics</div>
          <div id="headToHead"></div>
        </div>

        <div class="grid">
          <div class="panel leaderboard">
            <div class="section-title">üìã Week Stats</div>
            <!-- WRAP weekly table so it can scroll horizontally on mobile -->
            <div class="scroll-table">
              <table>
                <thead>
                  <tr>
                    <th>Player</th><th>Goals</th><th>Assists</th><th>Clean Sheets</th><th>√úbertorped</th><th>Points</th>
                  </tr>
                </thead>
                <tbody id="weeklyStatsBody"></tbody>
              </table>
            </div>
          </div>

          <div class="panel hot-streak-card">
              <div class="section-title">‚≠ê Practice Top Team</div>
              <div id="weeklyTeam"></div>
              <div style="font-size:11px;color:var(--muted-2);margin-top:16px;line-height:1.5;">
                <b>ATT:</b> Best goals+assists ‚Ä¢ <b>DEF:</b> Current CS + 30% historic avg ‚Ä¢ <b>‚òÖ:</b> Best remaining points
              </div>
            </div>
          <div class="panel stat-card">
            <div class="section-title">üÜï New Players</div>
            <div id="newPlayers" class="scroll-list"></div>
          </div>
          <div class="panel hot-streak-card">
            <div class="section-title">üöÄ Overperformance Spotlight</div>
            <div id="deviationLeader"></div>
          </div>
        </div>
      </section>

      <!-- TEAM BALANCER VIEW -->
      <section id="teamsView" style="display:none;">
        <div class="grid">
          <div class="panel leaderboard">
            <div class="section-title">‚öñÔ∏è Team Balancer</div>
            <div style="margin-bottom:20px;">
              <div style="margin-bottom:16px;">
                <label style="display:block;margin-bottom:8px;font-weight:600;color:var(--muted);font-size:13px;">Number of Teams</label>
                <select id="teamCountSelect" onchange="saveTeamBalancerState()" style="padding:12px 18px;background:var(--panel);color:var(--white);border:1px solid var(--border);border-radius:14px;font-weight:600;outline:none;cursor:pointer;font-size:14px;box-shadow:var(--shadow-sm);width:100%;max-width:200px;">
                  <option value="3">3 Teams</option>
                  <option value="4">4 Teams</option>
                </select>
              </div>
              <div style="margin-bottom:16px;">
                <label style="display:block;margin-bottom:8px;font-weight:600;color:var(--muted);font-size:13px;">Add New Player</label>
                <div style="display:flex;gap:8px;">
                  <input type="text" id="newPlayerInput" placeholder="Player name" style="flex:1;padding:12px 18px;background:var(--panel);color:var(--white);border:1px solid var(--border);border-radius:14px;font-size:14px;outline:none;box-shadow:var(--shadow-sm);" onkeypress="if(event.key==='Enter') addNewPlayer()">
                  <button onclick="addNewPlayer()" class="btn" style="padding:12px 24px;">Add</button>
                </div>
              </div>
              <div style="margin-bottom:16px;">
                <label style="display:block;margin-bottom:8px;font-weight:600;color:var(--muted);font-size:13px;">Randomness</label>
                <div class="controls" style="width:100%;">
                  <button class="btn" id="randomNone" onclick="setRandomness(0)" style="flex:1;border:1px solid var(--border);">None</button>
                  <button class="btn active" id="randomSome" onclick="setRandomness(0.5)" style="flex:1;border:1px solid var(--border);">Some</button>
                  <button class="btn" id="randomMuch" onclick="setRandomness(1)" style="flex:1;border:1px solid var(--border);">Much</button>
                  <button class="btn" id="randomTotal" onclick="setRandomness('random')" style="flex:1;border:1px solid var(--border);">Total</button>
                </div>
                <input type="hidden" id="softTemp" value="0.5"/>
              </div>
              <div id="seedContainer" style="margin-bottom:16px;">
                <label style="display:block;margin-bottom:8px;font-weight:600;color:var(--muted);font-size:13px;">Seed (optional)</label>
                <input id="softSeed" type="number" placeholder="e.g. 1234" onchange="saveTeamBalancerState()" oninput="saveTeamBalancerState()" style="width:100%;padding:12px 18px;background:var(--panel);color:var(--white);border:1px solid var(--border);border-radius:14px;font-size:14px;outline:none;box-shadow:var(--shadow-sm);"/>
              </div>
              <div id="penaltyFactorContainer" style="margin-bottom:16px;display:none;">
                <label style="display:block;margin-bottom:8px;font-weight:600;color:var(--muted);font-size:13px;">Co-occurrence Penalty Factor</label>
                <input id="penaltyFactor" type="number" step="0.001" min="0" max="1" value="0.001" onchange="saveTeamBalancerState()" oninput="saveTeamBalancerState()" style="width:100%;padding:12px 18px;background:var(--panel);color:var(--white);border:1px solid var(--border);border-radius:14px;font-size:14px;outline:none;box-shadow:var(--shadow-sm);"/>
                <div style="font-size:11px;color:var(--muted-2);margin-top:4px;">Higher = stronger bias against repeated pairings (default: 0.001)</div>
              </div>
              <div style="margin-bottom:16px;display:flex;gap:8px;">
                <button onclick="updateTeamBalancer()" class="btn active" style="flex:1.3;padding:14px 24px;font-size:15px;font-weight:700;border:1px solid var(--border);">
                  ‚öñÔ∏è Generate Teams
                </button>
                <button onclick="clearTeamBalancer()" class="btn" style="flex:1;padding:14px 24px;font-size:15px;font-weight:600;border:1px solid var(--border);">
                  üóëÔ∏è Clear
                </button>
              </div>
            </div>
            <div id="teamBalancerResults"></div>
          </div>

          <div class="panel hot-streak-card">
            <div class="section-title">üë• Select Players</div>
            <div id="playerSelection" class="scroll-list" style="max-height:600px;"></div>
          </div>
        </div>
      </section>
    </main>

    <!-- Aside -->
    <aside class="aside">
      <div class="panel widget">
        <div class="section-title">Season Overview</div>
        <div class="kpi">
          <div class="ring" id="seasonRing" style="--p:0"><span id="seasonPct">0%</span></div>
          <div>
            <div class="badge">Live</div>
            <div class="small" id="weeksText">0 of 0 weeks</div>
          </div>
        </div>
      </div>

      <div class="panel widget">
        <div class="section-title">Tip</div>
        <div class="small">Use <b>Practice View</b> to see the top 5 performers and any new joiners.</div>
      </div>
    </aside>
  </div>

<script>
/* ------- Data (same structure as original) ------- */
const weeklyData = [
  {"week":42,"date":"2025-10-14","stats":[{"name":"Arvid","attendance":1,"goals":0,"assists":0,"cleanSheet":7,"turbotorped":0},{"name":"Chris","attendance":1,"goals":2,"assists":2,"cleanSheet":8,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":1,"assists":1,"cleanSheet":4,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":1,"cleanSheet":4,"turbotorped":0},{"name":"Marco","attendance":1,"goals":2,"assists":0,"cleanSheet":7,"turbotorped":0},{"name":"Pontus","attendance":1,"goals":2,"assists":0,"cleanSheet":8,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":2,"assists":3,"cleanSheet":4,"turbotorped":0},{"name":"Maxim","attendance":1,"goals":1,"assists":1,"cleanSheet":4,"turbotorped":0},{"name":"Ayman","attendance":1,"goals":0,"assists":1,"cleanSheet":7,"turbotorped":1},{"name":"Payam","attendance":1,"goals":3,"assists":3,"cleanSheet":8,"turbotorped":0},{"name":"Saman","attendance":1,"goals":1,"assists":2,"cleanSheet":4,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":2,"assists":1,"cleanSheet":4,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":4,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":2,"assists":2,"cleanSheet":8,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":3,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Anton","attendance":1,"goals":1,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Oskar","attendance":1,"goals":0,"assists":0,"cleanSheet":7,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":4,"assists":3,"cleanSheet":8,"turbotorped":0},{"name":"Patrik","attendance":1,"goals":1,"assists":2,"cleanSheet":4,"turbotorped":0},{"name":"Alex B","attendance":1,"goals":0,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Andres","attendance":1,"goals":0,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Kim","attendance":1,"goals":2,"assists":1,"cleanSheet":8,"turbotorped":0}]},
  {"week":42,"date":"2025-10-16","stats":[{"name":"Lasse","attendance":1,"goals":2,"assists":2,"cleanSheet":6,"turbotorped":0},{"name":"Marco","attendance":1,"goals":3,"assists":2,"cleanSheet":11,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":3,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":2,"cleanSheet":6,"turbotorped":0},{"name":"Pontus","attendance":1,"goals":2,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Love B","attendance":1,"goals":2,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":1,"assists":2,"cleanSheet":11,"turbotorped":0},{"name":"Malte","attendance":1,"goals":5,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Olle","attendance":1,"goals":2,"assists":3,"cleanSheet":11,"turbotorped":1},{"name":"Gurra","attendance":1,"goals":0,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Saman","attendance":1,"goals":1,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":0,"assists":3,"cleanSheet":6,"turbotorped":0},{"name":"Anton","attendance":1,"goals":1,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Abdul","attendance":1,"goals":3,"assists":1,"cleanSheet":11,"turbotorped":0},{"name":"Chris","attendance":1,"goals":1,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":2,"assists":2,"cleanSheet":11,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":2,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":3,"assists":1,"cleanSheet":11,"turbotorped":0}]},
  {"week":43,"date":"2025-10-21","stats":[{"name":"Gio","attendance":1,"goals":0,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Chris","attendance":1,"goals":2,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":3,"assists":2,"cleanSheet":4,"turbotorped":0},{"name":"Anton","attendance":1,"goals":0,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":5,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":3,"cleanSheet":4,"turbotorped":0},{"name":"Abdul","attendance":1,"goals":3,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Kim","attendance":1,"goals":2,"assists":4,"cleanSheet":8,"turbotorped":0},{"name":"Marco","attendance":1,"goals":1,"assists":0,"cleanSheet":8,"turbotorped":0},{"name":"Oskar","attendance":1,"goals":3,"assists":1,"cleanSheet":8,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":1,"assists":0,"cleanSheet":8,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":0,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":0,"assists":3,"cleanSheet":4,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":0,"assists":2,"cleanSheet":4,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":1,"cleanSheet":4,"turbotorped":0},{"name":"Malte","attendance":1,"goals":2,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":3,"assists":3,"cleanSheet":6,"turbotorped":0},{"name":"Milton","attendance":1,"goals":1,"assists":0,"cleanSheet":8,"turbotorped":0},{"name":"Marius","attendance":1,"goals":0,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":2,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":1,"assists":1,"cleanSheet":8,"turbotorped":0},{"name":"Olle","attendance":1,"goals":2,"assists":4,"cleanSheet":6,"turbotorped":0}]},
  {"week":43,"date":"2025-10-23","stats":[{"name":"Erik √ñ","attendance":1,"goals":4,"assists":2,"cleanSheet":7,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":3,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":1,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":2,"cleanSheet":2,"turbotorped":0},{"name":"Malte","attendance":1,"goals":3,"assists":3,"cleanSheet":5,"turbotorped":0},{"name":"Abdul","attendance":1,"goals":0,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":1,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":0,"assists":3,"cleanSheet":7,"turbotorped":0},{"name":"Love B","attendance":1,"goals":3,"assists":0,"cleanSheet":2,"turbotorped":0},{"name":"Patrik","attendance":1,"goals":0,"assists":2,"cleanSheet":5,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":0,"cleanSheet":5,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":3,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Anton","attendance":1,"goals":2,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":1,"assists":0,"cleanSheet":5,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":0,"assists":2,"cleanSheet":5,"turbotorped":0},{"name":"Marco","attendance":1,"goals":1,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Olle","attendance":1,"goals":1,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":5,"assists":1,"cleanSheet":2,"turbotorped":0},{"name":"Kim","attendance":1,"goals":1,"assists":2,"cleanSheet":2,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":2,"assists":1,"cleanSheet":2,"turbotorped":0},{"name":"Esmet","attendance":1,"goals":3,"assists":0,"cleanSheet":5,"turbotorped":0},{"name":"Ante","attendance":1,"goals":5,"assists":3,"cleanSheet":5,"turbotorped":1}]},
  {"week":44,"date":"2025-10-28","stats":[{"name":"Lasse","attendance":1,"goals":3,"assists":1,"cleanSheet":8,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":1,"assists":0,"cleanSheet":10,"turbotorped":0},{"name":"Milton","attendance":1,"goals":1,"assists":0,"cleanSheet":8,"turbotorped":0},{"name":"Marius","attendance":1,"goals":1,"assists":0,"cleanSheet":5,"turbotorped":0},{"name":"Payam","attendance":1,"goals":5,"assists":4,"cleanSheet":10,"turbotorped":0},{"name":"Saman","attendance":1,"goals":1,"assists":0,"cleanSheet":10,"turbotorped":0},{"name":"Olle","attendance":1,"goals":2,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Emil N","attendance":1,"goals":2,"assists":1,"cleanSheet":8,"turbotorped":0},{"name":"Marco","attendance":1,"goals":0,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Adde","attendance":1,"goals":2,"assists":0,"cleanSheet":10,"turbotorped":0},{"name":"Chris","attendance":1,"goals":2,"assists":0,"cleanSheet":5,"turbotorped":0},{"name":"Oskar","attendance":1,"goals":0,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Kim","attendance":1,"goals":1,"assists":2,"cleanSheet":10,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":1,"assists":1,"cleanSheet":8,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":2,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Anton","attendance":1,"goals":0,"assists":0,"cleanSheet":5,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":1,"assists":4,"cleanSheet":8,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":1,"assists":1,"cleanSheet":10,"turbotorped":0},{"name":"Love B","attendance":1,"goals":0,"assists":3,"cleanSheet":8,"turbotorped":1},{"name":"Erik √ñ","attendance":1,"goals":5,"assists":0,"cleanSheet":8,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":2,"assists":3,"cleanSheet":10,"turbotorped":0}],"teams":[{"name":"Svart","players":["Lasse","Milton","Emil N","Emil V","Simon A","Erik √ñ","Love B"]},{"name":"R√∂d","players":["Mathias","Payam","Saman","Adde","Kim","Arvid","Andreas B"]},{"name":"Bl√•","players":["Marius","Olle","Marco","Chris","Anton","Johnson","Oskar"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":0,"awayScore":0},{"matchNumber":2,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":2},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":0,"awayScore":2},{"matchNumber":5,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":0},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":1,"awayScore":0},{"matchNumber":8,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":1,"awayScore":1},{"matchNumber":11,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":2},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":2},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":0,"awayScore":2},{"matchNumber":14,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":0,"awayScore":1},{"matchNumber":17,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":0,"awayScore":0},{"matchNumber":20,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":2},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":1,"awayScore":2},{"matchNumber":23,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0}]},
  {"week":44,"date":"2025-10-30","stats":[{"name":"Mathias","attendance":1,"goals":1,"assists":0,"cleanSheet":9,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":1,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":1,"cleanSheet":9,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":0,"assists":0,"cleanSheet":9,"turbotorped":0},{"name":"Marco","attendance":1,"goals":4,"assists":1,"cleanSheet":9,"turbotorped":0},{"name":"Payam","attendance":1,"goals":5,"assists":3,"cleanSheet":9,"turbotorped":0},{"name":"Love B","attendance":1,"goals":0,"assists":4,"cleanSheet":9,"turbotorped":0},{"name":"Anton","attendance":1,"goals":1,"assists":1,"cleanSheet":9,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":4,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":1,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":1,"cleanSheet":9,"turbotorped":1},{"name":"Degen","attendance":1,"goals":0,"assists":0,"cleanSheet":9,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":4,"assists":1,"cleanSheet":9,"turbotorped":0},{"name":"Olle","attendance":1,"goals":2,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":0,"assists":2,"cleanSheet":6,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":0,"assists":3,"cleanSheet":6,"turbotorped":0},{"name":"Malte","attendance":1,"goals":2,"assists":2,"cleanSheet":9,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":2,"assists":4,"cleanSheet":9,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":2,"assists":1,"cleanSheet":9,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Mathias","Adde","Degen","Love √ñ","Malte","Erik √ñ"]},{"name":"Gul","players":["Saman","Emil V","Marco","Payam","Love B","Anton","Arvid"]},{"name":"R√∂d","players":["Andreas B","Johnson","Lasse","Olle","Gurra","Martin Ja"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":2},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":2},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1}]},
  {"week":45,"date":"2025-11-04","stats":[{"name":"Milton","attendance":1,"goals":1,"assists":0,"cleanSheet":8,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":2,"assists":3,"cleanSheet":11,"turbotorped":0},{"name":"Pontus","attendance":1,"goals":2,"assists":1,"cleanSheet":11,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":4,"assists":2,"cleanSheet":11,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":3,"assists":0,"cleanSheet":8,"turbotorped":0},{"name":"Oskar","attendance":1,"goals":2,"assists":2,"cleanSheet":11,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":3,"assists":1,"cleanSheet":11,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":0,"cleanSheet":11,"turbotorped":0},{"name":"Love B","attendance":1,"goals":2,"assists":1,"cleanSheet":8,"turbotorped":0},{"name":"Marco","attendance":1,"goals":0,"assists":2,"cleanSheet":11,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":0,"assists":1,"cleanSheet":11,"turbotorped":0},{"name":"Chris","attendance":1,"goals":1,"assists":1,"cleanSheet":8,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":1,"assists":2,"cleanSheet":11,"turbotorped":0},{"name":"Malte","attendance":1,"goals":2,"assists":4,"cleanSheet":11,"turbotorped":1},{"name":"Anton","attendance":1,"goals":0,"assists":1,"cleanSheet":8,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":1,"assists":0,"cleanSheet":11,"turbotorped":0},{"name":"Kim","attendance":1,"goals":2,"assists":2,"cleanSheet":8,"turbotorped":0},{"name":"Olle","attendance":1,"goals":7,"assists":1,"cleanSheet":11,"turbotorped":0}],"teams":[{"name":"Gul","players":["Milton","Love √ñ","Love B","Chris","Anton","Kim"]},{"name":"Bl√•","players":["Lasse","Erik √ñ","Degen","Marco","Martin Ja","Olle"]},{"name":"R√∂d","players":["Pontus","Oskar","Arvid","Mathias","Malte","Andreas B"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":0},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":3,"awayScore":0},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":2},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":0},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":0},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":3}]},
  {"week":45,"date":"2025-11-06","stats":[{"name":"Martin Ja","attendance":1,"goals":1,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Love B","attendance":1,"goals":2,"assists":2,"cleanSheet":11,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":6,"assists":0,"cleanSheet":4,"turbotorped":1},{"name":"Anton","attendance":1,"goals":0,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Malte","attendance":1,"goals":7,"assists":5,"cleanSheet":11,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":0,"assists":4,"cleanSheet":4,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":3,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Degen","attendance":1,"goals":1,"assists":3,"cleanSheet":11,"turbotorped":0},{"name":"Marco","attendance":1,"goals":2,"assists":2,"cleanSheet":4,"turbotorped":0},{"name":"Chris","attendance":1,"goals":2,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":5,"assists":0,"cleanSheet":11,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":1,"assists":2,"cleanSheet":4,"turbotorped":0},{"name":"Olle","attendance":1,"goals":3,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":2,"assists":1,"cleanSheet":11,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":1,"cleanSheet":4,"turbotorped":0},{"name":"Gio","attendance":1,"goals":0,"assists":0,"cleanSheet":5,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":2,"assists":4,"cleanSheet":11,"turbotorped":0},{"name":"Esmet","attendance":1,"goals":0,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":0,"assists":3,"cleanSheet":5,"turbotorped":0},{"name":"Ante","attendance":1,"goals":9,"assists":8,"cleanSheet":11,"turbotorped":0}],"teams":[{"name":"R√∂d","players":["Martin Ja","Anton","Erik √ñ","Chris","Olle","Gio","Johnson"]},{"name":"Gul","players":["Lasse","Gurra","Marco","Arvid","Adde","Esmet"]},{"name":"Bl√•","players":["Love B","Malte","Degen","Simon A","Andreas B","Emil V","Ante"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":2},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":1},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":2},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":1},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":1},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":2},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":4},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":2},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1}]},
  {"week":46,"date":"2025-11-11","stats":[{"name":"Arvid","attendance":1,"goals":0,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Anton","attendance":1,"goals":1,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Marco","attendance":1,"goals":1,"assists":0,"cleanSheet":7,"turbotorped":0},{"name":"Milton","attendance":1,"goals":1,"assists":0,"cleanSheet":7,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":2,"assists":0,"cleanSheet":7,"turbotorped":0},{"name":"Chris","attendance":1,"goals":0,"assists":0,"cleanSheet":7,"turbotorped":0},{"name":"Kim","attendance":1,"goals":1,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":6,"assists":5,"cleanSheet":9,"turbotorped":0},{"name":"Malte","attendance":1,"goals":7,"assists":4,"cleanSheet":9,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":2,"assists":2,"cleanSheet":9,"turbotorped":0},{"name":"Emil N","attendance":1,"goals":0,"assists":1,"cleanSheet":9,"turbotorped":0},{"name":"Andres","attendance":1,"goals":1,"assists":1,"cleanSheet":9,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":3,"assists":2,"cleanSheet":9,"turbotorped":0},{"name":"Olle","attendance":1,"goals":1,"assists":2,"cleanSheet":9,"turbotorped":0},{"name":"Pontus","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":2,"assists":2,"cleanSheet":9,"turbotorped":0},{"name":"Love B","attendance":1,"goals":3,"assists":0,"cleanSheet":9,"turbotorped":0},{"name":"Degen","attendance":1,"goals":1,"assists":2,"cleanSheet":9,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":1,"cleanSheet":9,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":3,"assists":1,"cleanSheet":9,"turbotorped":1},{"name":"Martin Ja","attendance":1,"goals":2,"assists":1,"cleanSheet":9,"turbotorped":0}],"teams":[{"name":"R√∂d","players":["Arvid","Anton","Marco","Milton","Mathias","Chris","Kim"]},{"name":"Bl√•","players":["Lasse","Malte","Erik √ñ","Emil N","Andres","Simon A","Olle"]},{"name":"Gul","players":["Pontus","Love √ñ","Love B","Degen","Saman","Andreas B","Martin Ja"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":0},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":3,"awayScore":0},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":1},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":0},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":3},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":3,"awayScore":0},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1}]},
  {"week":46,"date":"2025-11-13","stats":[{"name":"Arvid","attendance":1,"goals":1,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":2,"assists":2,"cleanSheet":4,"turbotorped":0},{"name":"Ante","attendance":1,"goals":6,"assists":8,"cleanSheet":9,"turbotorped":0},{"name":"Kim","attendance":1,"goals":2,"assists":5,"cleanSheet":7,"turbotorped":0},{"name":"Anton","attendance":1,"goals":0,"assists":0,"cleanSheet":9,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":5,"assists":2,"cleanSheet":7,"turbotorped":0},{"name":"Love B","attendance":1,"goals":1,"assists":2,"cleanSheet":4,"turbotorped":0},{"name":"Adde","attendance":1,"goals":1,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Marco","attendance":1,"goals":4,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Degen","attendance":1,"goals":2,"assists":0,"cleanSheet":9,"turbotorped":0},{"name":"Abdul","attendance":1,"goals":1,"assists":1,"cleanSheet":9,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":1,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":5,"assists":5,"cleanSheet":7,"turbotorped":1},{"name":"Johnson","attendance":1,"goals":4,"assists":3,"cleanSheet":9,"turbotorped":0},{"name":"Chris","attendance":1,"goals":1,"assists":1,"cleanSheet":4,"turbotorped":0},{"name":"Malte","attendance":1,"goals":6,"assists":4,"cleanSheet":9,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":4,"assists":2,"cleanSheet":7,"turbotorped":0}],"teams":[{"name":"Gul","players":["Arvid","Erik √ñ","Love B","Adde","Emil V","Chris"]},{"name":"Bl√•","players":["Kim","Gurra","Marco","Emil V","Martin Ja","Lasse"]},{"name":"R√∂d","players":["Ante","Anton","Degen","Abdul","Malte","Johnson"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":1},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":2},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":2},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":2},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":1},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":3},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":5},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":0},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":1},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":3},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0}]},
  {"week":47,"date":"2025-11-18","stats":[{"name":"Ante","attendance":1,"goals":5,"assists":5,"cleanSheet":9,"turbotorped":0},{"name":"Olle","attendance":1,"goals":4,"assists":1,"cleanSheet":9,"turbotorped":0},{"name":"Kim","attendance":1,"goals":3,"assists":0,"cleanSheet":9,"turbotorped":0},{"name":"Love B","attendance":1,"goals":1,"assists":0,"cleanSheet":9,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":1,"assists":0,"cleanSheet":9,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":2,"cleanSheet":9,"turbotorped":0},{"name":"Pontus","attendance":1,"goals":2,"assists":0,"cleanSheet":9,"turbotorped":0},{"name":"Anton","attendance":1,"goals":3,"assists":1,"cleanSheet":9,"turbotorped":0},{"name":"Payam","attendance":1,"goals":4,"assists":2,"cleanSheet":5,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":1,"assists":4,"cleanSheet":5,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":2,"assists":1,"cleanSheet":5,"turbotorped":0},{"name":"Emil N","attendance":1,"goals":1,"assists":0,"cleanSheet":5,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":2,"assists":2,"cleanSheet":5,"turbotorped":0},{"name":"Pooria","attendance":1,"goals":1,"assists":0,"cleanSheet":5,"turbotorped":0},{"name":"Adde","attendance":1,"goals":1,"assists":1,"cleanSheet":5,"turbotorped":1},{"name":"Malte","attendance":1,"goals":3,"assists":3,"cleanSheet":6,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":2,"assists":2,"cleanSheet":6,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":4,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Abdul","attendance":1,"goals":1,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Alex D","attendance":1,"goals":1,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":1,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":0,"cleanSheet":6,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Ante","Olle","Kim","Love B","Emil V","Degen","Pontus","Anton"]},{"name":"Gul","players":["Payam","Lasse","Martin Ja","Emil N","Johnson","Pooria","Adde"]},{"name":"R√∂d","players":["Malte","Erik √ñ","Simon A","Abdul","Alex D","Andreas B","Saman"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":3},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":1},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":3},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":2},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":3,"awayScore":1}]},
  {"week":47,"date":"2025-11-20","stats":[{"name":"Malte","attendance":1,"goals":4,"assists":2,"cleanSheet":6,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":0,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":2,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":1,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Payam","attendance":1,"goals":8,"assists":6,"cleanSheet":12,"turbotorped":0},{"name":"Love B","attendance":1,"goals":5,"assists":2,"cleanSheet":12,"turbotorped":1},{"name":"Emil V","attendance":1,"goals":1,"assists":1,"cleanSheet":12,"turbotorped":0},{"name":"Anton","attendance":1,"goals":2,"assists":0,"cleanSheet":12,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":0,"cleanSheet":12,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":2,"assists":5,"cleanSheet":7,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":3,"assists":0,"cleanSheet":7,"turbotorped":0},{"name":"Marco","attendance":1,"goals":2,"assists":2,"cleanSheet":7,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":2,"assists":2,"cleanSheet":7,"turbotorped":0},{"name":"Pontus","attendance":1,"goals":1,"assists":1,"cleanSheet":7,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Malte","Martin Ja","Johnson","Andreas B","Degen","Saman"]},{"name":"Gul","players":["Payam","Love B","Emil V","Anton","Adde"]},{"name":"R√∂d","players":["Love √ñ","Lasse","Marco","Arvid","Pontus"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":1},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":0},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":4,"awayScore":2},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0}]},
  {"week":48,"date":"2025-11-25","stats":[{"name":"Ante","attendance":1,"goals":3,"assists":2,"cleanSheet":6,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":2,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":0,"assists":2,"cleanSheet":6,"turbotorped":0},{"name":"Emil N","attendance":1,"goals":1,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Chris","attendance":1,"goals":2,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Saman","attendance":1,"goals":1,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Payam","attendance":1,"goals":2,"assists":4,"cleanSheet":7,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":2,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Goran","attendance":1,"goals":1,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":3,"assists":0,"cleanSheet":7,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":2,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Alex D","attendance":1,"goals":0,"assists":1,"cleanSheet":7,"turbotorped":0},{"name":"Malte","attendance":1,"goals":6,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Olle","attendance":1,"goals":1,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Kim","attendance":1,"goals":1,"assists":3,"cleanSheet":6,"turbotorped":0},{"name":"Marco","attendance":1,"goals":1,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":1,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Anton","attendance":1,"goals":1,"assists":2,"cleanSheet":6,"turbotorped":1},{"name":"Erik √ñ","attendance":1,"goals":4,"assists":2,"cleanSheet":4,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":3,"assists":1,"cleanSheet":4,"turbotorped":0},{"name":"Love B","attendance":1,"goals":0,"assists":2,"cleanSheet":4,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":0,"assists":0,"cleanSheet":4,"turbotorped":0},{"name":"Degen","attendance":1,"goals":1,"assists":1,"cleanSheet":4,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Ante","Simon A","Arvid","Emil N","Chris","Saman"]},{"name":"Gul","players":["Payam","Lasse","Goran","Johnson","Mathias","Alex D"]},{"name":"R√∂d","players":["Malte","Olle","Kim","Marco","Andreas B","Anton"]},{"name":"Svart","players":["Erik √ñ","Love √ñ","Love B","Martin Ja","Degen"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":2,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":4,"homeTeam":"Gul","awayTeam":"Svart","homeScore":1,"awayScore":2},{"matchNumber":5,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":1,"awayScore":0},{"matchNumber":6,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":3,"awayScore":0},{"matchNumber":7,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":2,"awayScore":1},{"matchNumber":9,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":10,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":1},{"matchNumber":11,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":12,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":14,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":2},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":16,"homeTeam":"Gul","awayTeam":"Svart","homeScore":2,"awayScore":0},{"matchNumber":17,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":0,"awayScore":3},{"matchNumber":18,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":19,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":3},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":21,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":1,"awayScore":2},{"matchNumber":22,"homeTeam":"Gul","awayTeam":"Svart","homeScore":1,"awayScore":0},{"matchNumber":23,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":24,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":0,"awayScore":1}]},
  {"week":48,"date":"2025-11-27","stats":[{"name":"Ante","attendance":1,"goals":6,"assists":5,"cleanSheet":6,"turbotorped":0},{"name":"Olle","attendance":1,"goals":4,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":1,"assists":2,"cleanSheet":6,"turbotorped":0},{"name":"Anton","attendance":1,"goals":0,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Degen","attendance":1,"goals":3,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Payam","attendance":1,"goals":3,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":1,"assists":2,"cleanSheet":6,"turbotorped":0},{"name":"Reyan","attendance":1,"goals":2,"assists":0,"cleanSheet":6,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":0,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":0,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Milton","attendance":1,"goals":2,"assists":1,"cleanSheet":6,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":3,"assists":2,"cleanSheet":11,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":1,"assists":2,"cleanSheet":11,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":2,"assists":1,"cleanSheet":11,"turbotorped":0},{"name":"Marco","attendance":1,"goals":4,"assists":3,"cleanSheet":11,"turbotorped":1},{"name":"Johnson","attendance":1,"goals":1,"assists":3,"cleanSheet":11,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Ante","Olle","Gurra","Anton","Degen","Adde"]},{"name":"Gul","players":["Payam","Lasse","Reyan","Andreas B","Arvid","Milton"]},{"name":"R√∂d","players":["Erik √ñ","Simon A","Emil V","Marco","Johnson"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":2},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":2},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":1},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":2},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":0},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":1},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":2}]},  
  {"week":49,"date":"2025-12-02","stats":[{"name":"Payam","attendance":1,"goals":2,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":0,"assists":4,"cleanSheet":0,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":2,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Chris","attendance":1,"goals":5,"assists":1,"cleanSheet":0,"turbotorped":1},{"name":"Reyan","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Kim","attendance":1,"goals":1,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Malte","attendance":1,"goals":4,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Olle","attendance":1,"goals":4,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Marco","attendance":1,"goals":2,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Anton","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":2,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Love B","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Abdul","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":3,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Alex D","attendance":1,"goals":4,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Kim","attendance":1,"goals":1,"assists":4,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Payam","Love √ñ","Lasse","Arvid","Degen","Chris","Reyan"]},{"name":"Gul","players":["Kim","Malte","Olle","Marco","Andreas B","Anton","Saman"]},{"name":"R√∂d","players":["Erik √ñ","Simon A","Love B","Abdul","Mathias","Alex D"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":0},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":3},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":1},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":2},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":2},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":2},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":2}]},
  {"week":49,"date":"2025-12-04","stats":[{"name":"Payam","attendance":1,"goals":4,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Kim","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Anton","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":3,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":1},{"name":"Malte","attendance":1,"goals":9,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Olle","attendance":1,"goals":4,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Love B","attendance":1,"goals":0,"assists":4,"cleanSheet":0,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Reyan","attendance":1,"goals":4,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":3,"assists":4,"cleanSheet":0,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":6,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Marco","attendance":1,"goals":0,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Abdul","attendance":1,"goals":3,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":0,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Herman","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Degen","Payam","Kim","Anton","Arvid"]},{"name":"Gul","players":["Malte","Olle","Love B","Saman","Adde","Reyan"]},{"name":"R√∂d","players":["Love √ñ","Lasse","Marco","Abdul","Gurra","Herman"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":4},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":2},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":2},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":1},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":2},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":2},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1}]},
  {"week":50,"date":"2025-12-09","stats":[{"name":"Ante","attendance":1,"goals":7,"assists":6,"cleanSheet":0,"turbotorped":0},{"name":"Reyan","attendance":1,"goals":5,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Emil N","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":3,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Malte","attendance":1,"goals":3,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Olle","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Love B","attendance":1,"goals":1,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Anton","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":2,"assists":5,"cleanSheet":0,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":3,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":6,"assists":1,"cleanSheet":0,"turbotorped":1},{"name":"Chris","attendance":1,"goals":3,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Martin Jo","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Ante","Reyan","Martin Jo","Andreas B","Emil N","Degen"]},{"name":"Gul","players":["Malte","Olle","Love B","Mathias","Arvid","Anton"]},{"name":"R√∂d","players":["Erik √ñ","Love √ñ","Lasse","Simon A","Chris","Saman"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":1},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":4,"awayScore":0},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":3},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":1},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":2},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2}]},
  {"week":50,"date":"2025-12-11","stats":[{"name":"Herman","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":4,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Love B","attendance":1,"goals":1,"assists":4,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":2,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Chris","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Malte","attendance":1,"goals":4,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Marco","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Anton","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Anzar","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Reyan","attendance":1,"goals":5,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":5,"assists":4,"cleanSheet":0,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":2,"assists":2,"cleanSheet":0,"turbotorped":1},{"name":"Andreas B","attendance":1,"goals":3,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Pooria","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Herman","Lasse","Love B","Arvid","Chris","Adde"]},{"name":"Gul","players":["Malte","Marco","Degen","Anton","Saman","Anzar"]},{"name":"R√∂d","players":["Reyan","Simon A","Gurra","Andreas B","Pooria"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":2},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":3,"awayScore":0},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":4},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":2},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":3},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1}]},
  {"week":51,"date":"2025-12-16","stats":[{"name":"Ante","attendance":1,"goals":9,"assists":0,"cleanSheet":0,"turbotorped":1},{"name":"Simon A","attendance":1,"goals":0,"assists":4,"cleanSheet":0,"turbotorped":0},{"name":"Anton","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Patrik","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Pooria","attendance":1,"goals":0,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Malte","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Olle","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Pontus","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Chris","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Jonathan","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Reyan","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Lasse","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Kim","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Alex D","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Herman","attendance":1,"goals":0,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":7,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Emil N","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Love B","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Anzar","attendance":1,"goals":0,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":2,"assists":2,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Ante","Simon A","Anton","Patrik","Saman","Mathias","Pooria"]},{"name":"Gul","players":["Malte","Olle","Pontus","Chris","Degen","Jonathan"]},{"name":"R√∂d","players":["Reyan","Lasse","Kim","Alex D","Arvid","Herman"]},{"name":"Svart","players":["Erik √ñ","Emil N","Love B","Andreas B","Anzar","Martin Ja"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":2,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":2,"awayScore":2},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":4,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":1},{"matchNumber":5,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":2,"awayScore":1},{"matchNumber":6,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":7,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":9,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":10,"homeTeam":"Gul","awayTeam":"Svart","homeScore":1,"awayScore":0},{"matchNumber":11,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":12,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":14,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":16,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":1},{"matchNumber":17,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":1,"awayScore":0},{"matchNumber":18,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":19,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":21,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":22,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":3},{"matchNumber":23,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":24,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":0,"awayScore":2}]},
  {"week":51,"date":"2025-12-18","stats":[{"name":"Lasse","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Malte","attendance":1,"goals":4,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Rickard","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Payam","attendance":1,"goals":4,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":6,"assists":3,"cleanSheet":0,"turbotorped":1},{"name":"Reyan","attendance":1,"goals":5,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Love B","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Anzar","attendance":1,"goals":0,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Jonathan","attendance":1,"goals":0,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Ante","attendance":1,"goals":7,"assists":4,"cleanSheet":0,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":4,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":1,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Chris","attendance":1,"goals":2,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":0,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Pooria","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Gul","players":["Lasse","Malte","Love √ñ","Rickard","Degen","Pooria","Chris"]},{"name":"R√∂d","players":["Payam","Erik √ñ","Reyan","Love B","Anzar","Jonathan"]},{"name":"Bl√•","players":["Ante","Andreas B","Adde","Gurra","Mathias","Arvid"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":1},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":3},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":2},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":2},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":1},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":3},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":1}]},
  {"week":2,"date":"2026-01-06","stats":[{"name":"Payam","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Anton","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Alex B","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":2,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Kim","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Goran","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Chris","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Reyan","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Serhiy","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Love B","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Anzar","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Alex D","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Emil N","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Simon A","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Herman","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Jonathan","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":1},{"name":"Milton","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Pooria","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Patrik","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Max","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Payam","Gurra","Mathias","Arvid","Anton","Alex B"]},{"name":"Gul","players":["Erik √ñ","Kim","Andreas B","Goran","Chris","Saman","Pooria"]},{"name":"R√∂d","players":["Reyan","Serhiy","Anzar","Love B","Alex D","Emil N","Patrik"]},{"name":"Svart","players":["Degen","Simon A","Herman","Martin Ja","Jonathan","Milton","Max"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":2,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":4,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":1},{"matchNumber":5,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":0,"awayScore":1},{"matchNumber":6,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":3,"awayScore":1},{"matchNumber":7,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":2,"awayScore":1},{"matchNumber":9,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":10,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":0},{"matchNumber":11,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":0,"awayScore":2},{"matchNumber":12,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":14,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":0},{"matchNumber":16,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":0},{"matchNumber":17,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":0,"awayScore":0},{"matchNumber":18,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":19,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":21,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":22,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":1},{"matchNumber":23,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":24,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":0,"awayScore":0}]},
  {"week":2,"date":"2026-01-08","stats":[{"name":"Malte","attendance":1,"goals":7,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Herman","attendance":1,"goals":2,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":0,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Chris","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Saman","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Payam","attendance":1,"goals":4,"assists":5,"cleanSheet":0,"turbotorped":0},{"name":"Reyan","attendance":1,"goals":5,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":2,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Anton","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Serhiy","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":1},{"name":"Erik √ñ","attendance":1,"goals":3,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Marco","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Love B","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Kim","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Patrik","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Malte","Herman","Gurra","Martin Ja","Mathias","Chris","Saman"]},{"name":"Gul","players":["Payam","Reyan","Love √ñ","Andreas B","Anton","Adde","Serhiy"]},{"name":"R√∂d","players":["Erik √ñ","Marco","Love B","Arvid","Degen","Kim","Patrik"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":2,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":1},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":4,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":5,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":6,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":9,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":10,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":11,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":12,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":1,"awayScore":1},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":14,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":3,"awayScore":0},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":2},{"matchNumber":16,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":17,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":18,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":3},{"matchNumber":19,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":21,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":22,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":23,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":4,"awayScore":0},{"matchNumber":24,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1}]},
  {"week":3,"date":"2026-01-13","stats":[{"name":"Ante","attendance":1,"goals":6,"assists":1,"cleanSheet":0,"turbotorped":1},{"name":"Serhiy","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Anton","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Emil N","attendance":1,"goals":1,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Payam","attendance":1,"goals":4,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Marco","attendance":1,"goals":2,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Kim","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Milton","attendance":1,"goals":2,"assists":3,"cleanSheet":0,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":0,"assists":4,"cleanSheet":0,"turbotorped":0},{"name":"Alex D","attendance":1,"goals":4,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Pooria","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Reyan","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Olle","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Abdul","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Anzar","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":1,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Fredrik","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Erik √ñ","attendance":1,"goals":3,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Herman","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Oskar","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Pontus","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Chris","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Ante","Serhiy","Anton","Emil N","Saman","Degen"]},{"name":"Gul","players":["Payam","Marco","Kim","Milton","Mathias","Alex D","Pooria"]},{"name":"Svart","players":["Reyan","Olle","Abdul","Anzar","Andreas B","Arvid","Fredrik"]},{"name":"R√∂d","players":["Erik √ñ","Herman","Oskar","Pontus","Martin Ja","Chris"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":2,"awayScore":1},{"matchNumber":2,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":4,"homeTeam":"Gul","awayTeam":"Svart","homeScore":2,"awayScore":1},{"matchNumber":5,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":0,"awayScore":0},{"matchNumber":6,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":7,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":4,"awayScore":0},{"matchNumber":9,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":10,"homeTeam":"Gul","awayTeam":"Svart","homeScore":2,"awayScore":0},{"matchNumber":11,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":12,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":14,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":2,"awayScore":1},{"matchNumber":16,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":2},{"matchNumber":17,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":2,"awayScore":0},{"matchNumber":18,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":19,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":21,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":0,"awayScore":2},{"matchNumber":22,"homeTeam":"Gul","awayTeam":"Svart","homeScore":2,"awayScore":0},{"matchNumber":23,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":2,"awayScore":1},{"matchNumber":24,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":1,"awayScore":0}]},
  {"week":4,"date":"2026-01-20","stats":[{"name":"Malte","attendance":1,"goals":3,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Serhiy","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Pooria","attendance":1,"goals":1,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Reyan","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Kim","attendance":1,"goals":1,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Abdul","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Anton","attendance":1,"goals":0,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Goran","attendance":1,"goals":4,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Jonathan","attendance":1,"goals":0,"assists":2,"cleanSheet":0,"turbotorped":1},{"name":"Alex D","attendance":1,"goals":3,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Chris","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Love √ñ","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Herman","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Martin Ja","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Emil N","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Bram","attendance":1,"goals":0,"assists":3,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Malte","Mathias","Serhiy","Degen","Saman","Pooria"]},{"name":"Gul","players":["Reyan","Kim","Abdul","Anton","Goran"]},{"name":"R√∂d","players":["Emil V","Jonathan","Alex D","Arvid","Chris"]},{"name":"Svart","players":["Love √ñ","Herman","Martin Ja","Andreas B","Emil N","Bram"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":2,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":3,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":4,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":0},{"matchNumber":5,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":1,"awayScore":0},{"matchNumber":6,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":7,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":9,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":10,"homeTeam":"Gul","awayTeam":"Svart","homeScore":2,"awayScore":1},{"matchNumber":11,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":0,"awayScore":1},{"matchNumber":12,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0},{"matchNumber":14,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":16,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":0},{"matchNumber":17,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":0,"awayScore":0},{"matchNumber":18,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":19,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":0,"awayScore":0},{"matchNumber":21,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":1,"awayScore":1},{"matchNumber":22,"homeTeam":"Gul","awayTeam":"Svart","homeScore":0,"awayScore":1},{"matchNumber":23,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":24,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":2,"awayScore":0}]},
  {"week":4,"date":"2026-01-22","stats":[{"name":"Payam","attendance":1,"goals":6,"assists":2,"cleanSheet":0,"turbotorped":1},{"name":"Pontus","attendance":1,"goals":1,"assists":4,"cleanSheet":0,"turbotorped":0},{"name":"Alex D","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Adde","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Saman","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Mathias","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Malte","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Love B","attendance":1,"goals":1,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Anzar","attendance":1,"goals":0,"assists":2,"cleanSheet":0,"turbotorped":0},{"name":"Chris","attendance":1,"goals":2,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Degen","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Fredrik","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Reyan","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Johnson","attendance":1,"goals":3,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Andreas B","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Jonathan","attendance":1,"goals":2,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Arvid","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Bram","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Emil V","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Gurra","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Serhiy","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Abdul","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Anton","attendance":1,"goals":0,"assists":1,"cleanSheet":0,"turbotorped":0},{"name":"Kim","attendance":1,"goals":1,"assists":0,"cleanSheet":0,"turbotorped":0},{"name":"Pooria","attendance":1,"goals":0,"assists":0,"cleanSheet":0,"turbotorped":0}],"teams":[{"name":"Bl√•","players":["Payam","Pontus","Alex D","Adde","Saman","Mathias"]},{"name":"Gul","players":["Malte","Love B","Anzar","Chris","Degen","Fredrik"]},{"name":"Svart","players":["Reyan","Johnson","Andreas B","Jonathan","Arvid","Bram"]},{"name":"R√∂d","players":["Emil V","Gurra","Serhiy","Abdul","Anton","Kim","Pooria"]}],"matches":[{"matchNumber":1,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":2,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":3,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":3,"awayScore":0},{"matchNumber":4,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":5,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":6,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":7,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":1,"awayScore":0},{"matchNumber":8,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":9,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":0,"awayScore":1},{"matchNumber":10,"homeTeam":"Gul","awayTeam":"Svart","homeScore":1,"awayScore":0},{"matchNumber":11,"homeTeam":"R√∂d","awayTeam":"Gul","homeScore":0,"awayScore":0},{"matchNumber":12,"homeTeam":"Svart","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":13,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":1},{"matchNumber":14,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":1,"awayScore":0},{"matchNumber":15,"homeTeam":"R√∂d","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":16,"homeTeam":"Gul","awayTeam":"Svart","homeScore":2,"awayScore":1},{"matchNumber":17,"homeTeam":"Bl√•","awayTeam":"Svart","homeScore":1,"awayScore":0},{"matchNumber":18,"homeTeam":"Gul","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":19,"homeTeam":"Svart","awayTeam":"R√∂d","homeScore":2,"awayScore":0},{"matchNumber":20,"homeTeam":"Gul","awayTeam":"Bl√•","homeScore":0,"awayScore":1},{"matchNumber":21,"homeTeam":"Bl√•","awayTeam":"R√∂d","homeScore":0,"awayScore":0},{"matchNumber":22,"homeTeam":"Gul","awayTeam":"Svart","homeScore":1,"awayScore":0},{"matchNumber":23,"homeTeam":"R√∂d","awayTeam":"Svart","homeScore":0,"awayScore":1},{"matchNumber":24,"homeTeam":"Bl√•","awayTeam":"Gul","homeScore":1,"awayScore":0}]}
];
/* ------- NEW: merge Tue/Thu entries per ISO date within a week ------- */
function formatPracticeDate(iso){
  const d = new Date(iso + 'T00:00:00Z');
  const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  return `${months[d.getUTCMonth()]} ${d.getUTCDate()}`;
}
function renderStars(n){ return n > 0 ? '‚≠ê'.repeat(n) : ''; }
function getPractices(){
  return weeklyData
    .map(entry => ({
      date: entry.date,
      label: formatPracticeDate(entry.date),
      stats: entry.stats,
      teams: entry.teams,
      matches: entry.matches
    }))
    .sort((a,b) => a.date.localeCompare(b.date));
}
const practices = getPractices();

/* ------- Calculate clean sheets from matches/teams ------- */
function calculateCleanSheetsFromMatches(practice){
  if(!practice.teams || !practice.matches || practice.matches.length === 0){
    return null; // No matches data, use original cleanSheet field
  }
  
  // Build a map of player -> team name
  const playerToTeam = {};
  practice.teams.forEach(team => {
    team.players.forEach(playerName => {
      playerToTeam[playerName] = team.name;
    });
  });
  
  // Count clean sheets per player
  const playerCleanSheets = {};
  
  practice.matches.forEach(match => {
    // Check if home team kept a clean sheet (awayScore === 0)
    if(match.awayScore === 0 && match.homeTeam){
      const team = practice.teams.find(t => t.name === match.homeTeam);
      if(team){
        team.players.forEach(playerName => {
          playerCleanSheets[playerName] = (playerCleanSheets[playerName] || 0) + 1;
        });
      }
    }
    
    // Check if away team kept a clean sheet (homeScore === 0)
    if(match.homeScore === 0 && match.awayTeam){
      const team = practice.teams.find(t => t.name === match.awayTeam);
      if(team){
        team.players.forEach(playerName => {
          playerCleanSheets[playerName] = (playerCleanSheets[playerName] || 0) + 1;
        });
      }
    }
  });
  
  return playerCleanSheets;
}

let currentView='total';
let currentPractice=practices.length-1;

/* ------- Helpers ------- */
function calculateTotalStats(){
  const playerStats={};
  practices.forEach(practice=>{
    // Calculate clean sheets from matches if available
    const calculatedCleanSheets = calculateCleanSheetsFromMatches(practice);
    
    practice.stats.forEach(p=>{
      if(!playerStats[p.name]){
        playerStats[p.name]={attendance:0,goals:0,assists:0,cleanSheets:0,turbotorped:0,practiceData:[]};
      }
      playerStats[p.name].attendance+=p.attendance;
      playerStats[p.name].goals+=p.goals;
      playerStats[p.name].assists+=p.assists;
      // Use calculated clean sheets if available, otherwise use original cleanSheet field
      const cleanSheets = calculatedCleanSheets && calculatedCleanSheets[p.name] !== undefined
        ? calculatedCleanSheets[p.name]
        : p.cleanSheet;
      playerStats[p.name].cleanSheets+=cleanSheets;
      playerStats[p.name].turbotorped+=p.turbotorped;
      // Store the calculated clean sheet value in practiceData
      playerStats[p.name].practiceData.push({
        date:practice.date,
        ...p,
        cleanSheet: cleanSheets
      });
    });
  });
  return playerStats;
}
function calculatePoints(s){return s.attendance+s.goals+s.assists+s.cleanSheets+(s.turbotorped*5)}

/* ------- Renderers ------- */
function renderLeaderboard(){
  const stats=calculateTotalStats();
  const leaderboard=Object.entries(stats)
    .map(([name,s])=>({name,...s,points:calculatePoints(s)}))
    .sort((a,b)=>b.points-a.points);

// Previous ranks (up/down)
  let previousRankings={};
  if(practices.length>1){
    const prev={};
    practices.slice(0,-1).forEach(practice=>{
      // Calculate clean sheets from matches if available
      const calculatedCleanSheets = calculateCleanSheetsFromMatches(practice);
      
      practice.stats.forEach(p=>{
        if(!prev[p.name]) prev[p.name]={attendance:0,goals:0,assists:0,cleanSheets:0,turbotorped:0};
        prev[p.name].attendance+=p.attendance;
        prev[p.name].goals+=p.goals;
        prev[p.name].assists+=p.assists;
        // Use calculated clean sheets if available, otherwise use original cleanSheet field
        const cleanSheets = calculatedCleanSheets && calculatedCleanSheets[p.name] !== undefined
          ? calculatedCleanSheets[p.name]
          : p.cleanSheet;
        prev[p.name].cleanSheets+=cleanSheets;
        prev[p.name].turbotorped+=p.turbotorped;
      })
    });
    const prevBoard=Object.entries(prev).map(([name,s])=>({name,points:calculatePoints(s)})).sort((a,b)=>b.points-a.points);
    prevBoard.forEach((p,i)=>previousRankings[p.name]=i+1);
  }

  const tbody=document.getElementById('leaderboardBody');
  tbody.innerHTML = leaderboard.map((p,i)=>{
    const currentRank=i+1, prevRank=previousRankings[p.name];
    let delta='';
    if(prevRank){
      const d=prevRank-currentRank;
      if(d>0) delta=`<span class="rank-change rank-up">‚ñ≤${d}</span>`;
      else if(d<0) delta=`<span class="rank-change rank-down">‚ñº${Math.abs(d)}</span>`;
    }
    return `<tr>
      <td>
        <div style="display:flex;align-items:center;gap:6px;flex-wrap:nowrap;">
          <span class="rank">${currentRank}</span>${delta}
        </div>
      </td>
      <td><span class="player-name">${p.name}</span></td>
      <td><span class="points">${p.points}</span></td>
      <td>${p.attendance}</td><td>${p.goals}</td><td>${p.assists}</td><td>${p.cleanSheets}</td><td>${p.turbotorped}</td>
    </tr>`;
  }).join('');

  // Aside overview ring
  const practicesPlayed=practices.length;
  const targetPractices=35;
  const pct=Math.round((practicesPlayed/targetPractices)*100);
  const ring=document.getElementById('seasonRing');
  const pctEl=document.getElementById('seasonPct');
  document.getElementById('weeksText').textContent=`${practicesPlayed} of ${targetPractices} practices`;
  ring.style.setProperty('--p', pct);
  pctEl.textContent=pct+'%';

  return leaderboard;
}
function calculateStreaks(playerStats){
  const streaks=[];

  // Sort all practices chronologically
  const sortedPractices = practices.slice().sort((a,b) => a.date.localeCompare(b.date));

  Object.entries(playerStats).forEach(([name,stats])=>{
    // attendance streak - count backwards from most recent practice
    let currentA=0;
    for(let i=sortedPractices.length-1; i>=0; i--){
      const practiceStats = sortedPractices[i].stats.find(p => p.name === name);
      if(practiceStats && practiceStats.attendance>0) {
        currentA++;
      } else {
        break; // streak broken
      }
    }

    // contribution streak - count backwards from most recent practice
    let currentC=0;
    for(let i=sortedPractices.length-1; i>=0; i--){
      const practiceStats = sortedPractices[i].stats.find(p => p.name === name);
      if(practiceStats && (practiceStats.goals>0 || practiceStats.assists>0)) {
        currentC++;
      } else {
        break; // streak broken
      }
    }

    // Only include if at least one streak is 3+
    if(currentA>=3 || currentC>=3) {
      streaks.push({name,currentAttendance:currentA,currentContribution:currentC});
    }
  });
  return streaks;
}
function renderActiveStreaks(){
  const s=calculateStreaks(calculateTotalStats());
  const active=s.sort((a,b)=>(b.currentAttendance+b.currentContribution)-(a.currentAttendance+a.currentContribution));
  const el=document.getElementById('activeStreaks');
  if(active.length===0){ el.innerHTML='<div class="empty-state">No active streaks (3+ practices)</div>'; return; }
  el.innerHTML=active.map(st=>{
    const lines=[];
    if(st.currentAttendance>=3) lines.push(`üéØ ${st.currentAttendance} practice${st.currentAttendance>1?'s':''} attendance`);
    if(st.currentContribution>=3) lines.push(`‚öΩ ${st.currentContribution} practice${st.currentContribution>1?'s':''} contributing`);
    return `
    <div class="metric-item">
      <div class="metric-player">${st.name}</div>
      <div class="metric-value">${lines.join('<br>')}</div>
    </div>`;
  }).join('');
}
function renderHotStreak(){
  const stats=calculateTotalStats();

  // Get the last 3 practices chronologically
  const sortedPractices = practices.slice().sort((a,b) => a.date.localeCompare(b.date));
  const lastThreePractices = sortedPractices.slice(-3);

  if(lastThreePractices.length < 3) {
    document.getElementById('hotStreak').innerHTML='<div class="empty-state">Need at least 3 practices</div>';
    return;
  }

  const form = Object.keys(stats).map(name => {
    let pts = 0;
    let practicesPlayed = 0;

    lastThreePractices.forEach(practice => {
      const playerStats = practice.stats.find(p => p.name === name);
      if(playerStats && playerStats.attendance > 0) {
        practicesPlayed++;
        // Calculate clean sheets from matches if available
        const calculatedCleanSheets = calculateCleanSheetsFromMatches(practice);
        const cleanSheets = calculatedCleanSheets && calculatedCleanSheets[name] !== undefined
          ? calculatedCleanSheets[name]
          : playerStats.cleanSheet;
        pts += playerStats.attendance + playerStats.goals + playerStats.assists +
               cleanSheets + (playerStats.turbotorped * 5);
      }
    });

    return {name, recentPoints: pts, practicesPlayed};
  }).filter(p => p.practicesPlayed >= 2) // Must have played at least 2 of last 3
    .sort((a,b) => b.recentPoints - a.recentPoints);

  const el = document.getElementById('hotStreak');
  if(form.length === 0) {
    el.innerHTML = '<div class="empty-state">Not enough data yet</div>';
    return;
  }

  const top = form[0];
  el.innerHTML = `<div class="hot-streak"><div class="hot-streak-player">üî• ${top.name}</div><div class="hot-streak-desc">${top.recentPoints} points in last 3 practices (played ${top.practicesPlayed})</div></div>`;
}
function renderMilestones(){
  const ps=calculateTotalStats();
  const out=[];
  const th={goals:[1,5,10,25,50],assists:[1,5,10,25],points:[10,25,50,100],attendance:[5,10,20]};

  if(practices.length===0) {
    document.getElementById('milestones').innerHTML='<div class="empty-state">No practices yet</div>';
    return;
  }

  const latestPracticeDate = practices[practices.length-1].date;
  const latestPracticePlayers = new Set(practices[practices.length-1].stats.map(p=>p.name));

  Object.entries(ps).forEach(([name,s])=>{
    // Only check players who participated in the latest practice
    if(!latestPracticePlayers.has(name)) return;

    const latestPractice = s.practiceData.find(p=>p.date===latestPracticeDate);
    if(!latestPractice) return;

    // Calculate stats before the latest practice
    const prevPractices = s.practiceData.filter(p=>p.date < latestPracticeDate);
    const prevGoals = prevPractices.reduce((sum,p)=>sum+p.goals,0);
    const prevAssists = prevPractices.reduce((sum,p)=>sum+p.assists,0);
    const prevAttendance = prevPractices.reduce((sum,p)=>sum+p.attendance,0);
    const prevPoints = prevPractices.reduce((sum,p)=>sum+p.attendance+p.goals+p.assists+p.cleanSheet+(p.turbotorped*5),0);

    // Check goals
    th.goals.forEach(t=>{ if(s.goals>=t && prevGoals<t) out.push({name,type:'Goals',value:t}); });
    // Check assists
    th.assists.forEach(t=>{ if(s.assists>=t && prevAssists<t) out.push({name,type:'Assists',value:t}); });
    // Check attendance
    th.attendance.forEach(t=>{ if(s.attendance>=t && prevAttendance<t) out.push({name,type:'Attendance',value:t}); });
    // Check points
    const totalPoints = calculatePoints(s);
    th.points.forEach(t=>{ if(totalPoints>=t && prevPoints<t) out.push({name,type:'Points',value:t}); });
  });

  const el=document.getElementById('milestones');
  if(out.length===0){
    el.innerHTML='<div class="empty-state">No recent milestones</div>';
  } else {
    out.sort((a,b)=>b.value-a.value);
    el.innerHTML = out.map(m=>`
      <div class="metric-item"><div class="metric-player">${m.name}</div><div class="metric-value">üéâ ${m.value} ${m.type}</div></div>`).join('');
  }
}
function renderBiggestClimber(){
  const ps=calculateTotalStats();
  if(practices.length<2){ document.getElementById('biggestClimber').innerHTML='<div class="empty-state">Need more practices</div>'; return;}
  const prev={};
  practices.slice(0,-1).forEach(practice=>{
    // Calculate clean sheets from matches if available
    const calculatedCleanSheets = calculateCleanSheetsFromMatches(practice);
    
    practice.stats.forEach(p=>{
      if(!prev[p.name]) prev[p.name]={attendance:0,goals:0,assists:0,cleanSheets:0,turbotorped:0};
      prev[p.name].attendance+=p.attendance; prev[p.name].goals+=p.goals; prev[p.name].assists+=p.assists;
      // Use calculated clean sheets if available, otherwise use original cleanSheet field
      const cleanSheets = calculatedCleanSheets && calculatedCleanSheets[p.name] !== undefined
        ? calculatedCleanSheets[p.name]
        : p.cleanSheet;
      prev[p.name].cleanSheets+=cleanSheets; prev[p.name].turbotorped+=p.turbotorped;
    });
  });
  const prevL=Object.entries(prev).map(([name,s])=>({name,points:calculatePoints(s)})).sort((a,b)=>b.points-a.points);
  const prevRanks={}; prevL.forEach((p,i)=>prevRanks[p.name]=i+1);
  const currentL=Object.entries(ps).map(([name,s])=>({name,points:calculatePoints(s)})).sort((a,b)=>b.points-a.points);
  let win=null,climb=0;
  currentL.forEach((p,i)=>{
    const r=i+1, pr=prevRanks[p.name];
    if(pr){ // Only count players who existed before (not new players)
      const d=pr-r;
      if(d>climb){climb=d; win=p.name;}
    }
  });
  const el=document.getElementById('biggestClimber');
  el.innerHTML = (!win || climb===0) ? '<div class="empty-state">No significant rank changes</div>' :
    `<div class="metric-item"><div class="metric-player">${win}</div><div class="metric-value">üìà Climbed ${climb} position${climb>1?'s':''}</div></div>`;
}
function renderSeasonStats(){
  const ps=calculateTotalStats();
  const goals=Object.values(ps).reduce((s,p)=>s+p.goals,0);
  const practiceCount=practices.length; const players=Object.keys(ps).length;
  const el=document.getElementById('seasonStats');
  el.innerHTML = `
    <div class="metric-item"><div class="metric-player">Total Practices</div><div class="metric-value">${practiceCount}</div></div>
    <div class="metric-item"><div class="metric-player">Total Players</div><div class="metric-value">${players}</div></div>
    <div class="metric-item"><div class="metric-player">Total Goals</div><div class="metric-value">${goals}</div></div>`;
}
function populatePracticeSelector(){
  const sel=document.getElementById('weekSelect');
  sel.innerHTML = practices.map((practice,i)=>{
    return `<option value="${i}">${practice.label}</option>`;
  }).reverse().join('');
  sel.value=currentPractice;
}
function calculateAverageHistoricalCS(playerName, allPractices, currentPracticeDate, minPractices = 2, minTotalPractices = 5){
  const ps = calculateTotalStats();
  const playerData = ps[playerName];
  if(!playerData) return 0;

  // Only enforce minimum attendance if we have enough total practices in the season
  if(allPractices.length >= minTotalPractices && playerData.attendance < minPractices) {
    return 0;
  }

  // Get player's HISTORICAL practice data (exclude current practice)
  const historicalPractices = [...playerData.practiceData]
    .filter(p => p.date !== currentPracticeDate);

  if(historicalPractices.length === 0) return 0;

  // Simple average of all historical clean sheets
  const totalCS = historicalPractices.reduce((sum, p) => sum + p.cleanSheet, 0);
  return totalCS / historicalPractices.length;
}
/* ------- Deviation Leader (Negative-Binomial z-score) ------- */
function mean(arr){ return arr.reduce((a,b)=>a+b,0)/arr.length; }
function sampleVariance(arr, m){
  if(arr.length < 2) return 0;
  const s = arr.reduce((acc,x)=>acc+(x-m)*(x-m), 0);
  return s/(arr.length-1);
}
function nbPredictiveSD(mu, v){
  // NB variance: mu + mu^2 / R, with R = mu^2 / (v - mu) when v>mu; else Poisson
  if(!(v > mu)) return Math.sqrt(Math.max(mu, 1e-9)); // Poisson-ish or underdispersed
  const denom = Math.max(v - mu, 1e-9);
  const R = Math.max((mu*mu)/denom, 0.1); // small floor for stability
  return Math.sqrt(mu + (mu*mu)/R);
}
function renderDeviationLeaderForPractice(practice){
  const practiceDate = practice.date;
  const sortedPractices = practices.slice().sort((a,b)=>a.date.localeCompare(b.date));
  const priorPractices = sortedPractices.filter(pr => pr.date < practiceDate);

  console.log('=== BREAKOUT SPOTLIGHT DEBUG ===');
  console.log(`Practice date: ${practiceDate} | Prior practices: ${priorPractices.length}`);

  if(priorPractices.length === 0){
    console.log('No prior practices ‚Üí cannot compute deviations.');
    document.getElementById('deviationLeader').innerHTML =
      '<div class="empty-state">Need earlier practices to compare against</div>';
    return;
  }

  const candidates = practice.stats.map(p => {
    // Build GA history for this player
    const historyGA = [];
    priorPractices.forEach(pr => {
      const row = pr.stats.find(r => r.name === p.name);
      if(row && row.attendance > 0){
        historyGA.push((row.goals||0) + (row.assists||0));
      }
    });

    const n = historyGA.length;
    const currGA = (p.goals||0) + (p.assists||0);

    if(n < 2){
      console.log(`(skip) ${p.name}: insufficient history (n=${n}), currGA=${currGA}`);
      return null; // need variance estimate
    }

    const mu = mean(historyGA);
    const v  = sampleVariance(historyGA, mu);
    const sd = nbPredictiveSD(mu, v);         // per-player dispersion (no shrink)
    const z  = (currGA - mu) / (sd || 1e-9);

    console.log(`${p.name}: n=${n}, mu=${mu.toFixed(3)}, var=${v.toFixed(3)}, sd=${sd.toFixed(3)}, currGA=${currGA}, z=${isFinite(z)?z.toFixed(3):'NA'}`);

    return { name: p.name, z, currGA, mu, n };
  }).filter(Boolean).filter(x => isFinite(x.z) && x.z > 0);

  if(candidates.length === 0){
    console.log('No positive deviations this practice.');
    document.getElementById('deviationLeader').innerHTML =
      '<div class="empty-state">No one beat their usual this practice</div>';
    return;
  }

  // Sort by z desc and pick the top
  candidates.sort((a,b)=>b.z - a.z);
  const top = candidates[0];

  console.log('Top breakout:', {
    name: top.name,
    z: Number(top.z.toFixed(3)),
    currGA: top.currGA,
    mu: Number(top.mu.toFixed(3)),
    n: top.n
  });

  const lift  = top.currGA - top.mu;
  const ratio = top.mu > 0 ? (top.currGA / top.mu) : top.currGA;

    let level = '';
    if (top.z > 3.5) {
      level = 'Godlike';
    } else if (top.z > 2.5) {
      level = 'On Fire';
    } else if (top.z > 1.5) {
      level = 'Breakout';
    } else {
      level = 'Steady';
    }

    document.getElementById('deviationLeader').innerHTML = `
      <div class="hot-streak" title="Compares today to the player‚Äôs own past practices, adjusting for how steady or streaky they usually are.">
        <div class="hot-streak-player">
          ${level === 'Godlike' ? '‚ö°' : level === 'On Fire' ? 'üî•' : level === 'Breakout' ? '‚ú®' : 'üèí'}
          ${top.name}
        </div>
        <div class="hot-streak-desc">
          <strong>${level}</strong>: ${top.currGA} goal contributions
          <span style="color:var(--muted)"> ‚Ä¢ usually ${top.mu.toFixed(1)}</span><br/>
          (<span>+${top.z.toFixed(2)}</span> standard deviations)<br/>
          <span style="color:var(--muted-2)">Based on ${top.n} earlier practices</span>
        </div>
      </div>
    `;
}


function pickPracticeTopTeam(practice){
  // Calculate clean sheets from matches if available
  const calculatedCleanSheets = calculateCleanSheetsFromMatches(practice);
  
  const players = practice.stats
    .filter(p => p.attendance > 0)
    .map(p => {
      // Use calculated clean sheets if available, otherwise use original cleanSheet field
      const cleanSheets = calculatedCleanSheets && calculatedCleanSheets[p.name] !== undefined
        ? calculatedCleanSheets[p.name]
        : p.cleanSheet;
      return {
        ...p,
        cleanSheet: cleanSheets, // Override with calculated value
        ga: p.goals + p.assists,
        practicePoints: p.attendance + p.goals + p.assists + cleanSheets + (p.turbotorped * 5)
      };
    });

  const taken = new Set();
  const team = [];

  // --- Attackers: top 2 by GA (tie-break goals, then points) ---
  const byGA = [...players].sort((a,b) =>
    (b.ga - a.ga) || (b.goals - a.goals) || (b.practicePoints - a.practicePoints)
  );
  for (const p of byGA) {
    if (!taken.has(p.name)) { team.push({...p, role:'ATT'}); taken.add(p.name); }
    if (team.filter(x=>x.role==='ATT').length === 2) break;
  }

  // --- Defenders: current practice CS + normalized weighted historical CS ---
  const currentPracticeDate = practice.date;
  const maxHistoricalWeight = 0.3; // Maximum weight for players with many practices

  const playersWithDefenseScore = players.map(p => {
    const ps = calculateTotalStats();
    const playerData = ps[p.name];
    const historicalCount = playerData ? playerData.practiceData.filter(pr => pr.date !== currentPracticeDate).length : 0;

    // Weight scales with number of historical practices: 0.3 √ó (1 - e^(-n/3))
    const historicalWeight = historicalCount > 0 ? maxHistoricalWeight * (1 - Math.exp(-historicalCount / 3)) : 0;

    const historicalCS = calculateAverageHistoricalCS(p.name, practices, currentPracticeDate);

    return {
      ...p,
      historicalWeightedCS: historicalCS,
      historicalWeight: historicalWeight,
      totalDefenseScore: p.cleanSheet + (historicalWeight * historicalCS)
    };
  });

  // Debug logging
  console.log('=== DEFENDER SELECTION DEBUG ===');
  playersWithDefenseScore.forEach(p => {
    console.log(`${p.name}: currentCS=${p.cleanSheet}, historicalCS=${p.historicalWeightedCS.toFixed(2)}, totalScore=${p.totalDefenseScore.toFixed(2)}, points=${p.practicePoints}`);
  });

  const byCS = [...playersWithDefenseScore].sort((a,b) =>
    (b.totalDefenseScore - a.totalDefenseScore) || (b.practicePoints - a.practicePoints)
  );

  console.log('Top defenders selected:', byCS.slice(0,2).map(p => p.name));
  for (const p of byCS) {
    if (!taken.has(p.name)) { team.push({...p, role:'DEF'}); taken.add(p.name); }
    if (team.filter(x=>x.role==='DEF').length === 2) break;
  }

  // --- Fifth: best remaining by practice points (tie-break GA, then goals) ---
  const byPts = [...players].sort((a,b) =>
    (b.practicePoints - a.practicePoints) || (b.ga - a.ga) || (b.goals - a.goals)
  );
  for (const p of byPts) {
    if (!taken.has(p.name)) { team.push({...p, role:'MVP'}); taken.add(p.name); break; }
  }

  // Fallbacks
  if (team.length < 5) {
    for (const p of byPts) {
      if (!taken.has(p.name)) { team.push({...p, role:'FLEX'}); taken.add(p.name); }
      if (team.length === 5) break;
    }
  }

  return team.slice(0,5);
}

/* ------- Team Color Helpers ------- */
function getPlayerTeam(practice, playerName){
  if(!practice.teams) return null;
  for(const team of practice.teams){
    if(team.players.includes(playerName)){
      return team.name;
    }
  }
  return null;
}

function getTeamColor(teamName){
  const teamColors = {
    'Bl√•': { bg: 'rgba(59, 130, 246, 0.2)', border: 'rgba(59, 130, 246, 0.5)', badge: 'rgba(59, 130, 246, 0.8)' },
    'Gul': { bg: 'rgba(234, 179, 8, 0.2)', border: 'rgba(234, 179, 8, 0.5)', badge: 'rgba(234, 179, 8, 0.8)' },
    'R√∂d': { bg: 'rgba(239, 68, 68, 0.2)', border: 'rgba(239, 68, 68, 0.5)', badge: 'rgba(239, 68, 68, 0.8)' },
    'Black': { bg: 'rgba(0, 0, 0, 0.3)', border: 'rgba(100, 100, 100, 0.5)', badge: 'rgba(50, 50, 50, 0.9)' },
    'Svart': { bg: 'rgba(0, 0, 0, 0.3)', border: 'rgba(100, 100, 100, 0.5)', badge: 'rgba(50, 50, 50, 0.9)' }
  };
  return teamColors[teamName] || { bg: 'rgba(255, 255, 255, 0.05)', border: 'rgba(255, 255, 255, 0.2)', badge: 'rgba(255, 255, 255, 0.3)' };
}

function renderTeamBadge(teamName){
  if(!teamName) return '';
  const color = getTeamColor(teamName);
  return `<span style="display:inline-block;width:12px;height:12px;border-radius:50%;background:${color.badge};border:1px solid ${color.border};margin-right:8px;vertical-align:middle;" title="${teamName}"></span>`;
}

/* ------- Team Scoreboard ------- */
function calculateTeamStats(practice){
  if(!practice.teams || !practice.matches || practice.matches.length === 0){
    return null;
  }
  
  // Initialize team stats
  const teamStats = {};
  practice.teams.forEach(team => {
    teamStats[team.name] = {
      name: team.name,
      wins: 0,
      draws: 0,
      losses: 0,
      goalsFor: 0,
      goalsAgainst: 0,
      cleanSheets: 0
    };
  });
  
  // Process matches
  practice.matches.forEach(match => {
    const homeTeam = teamStats[match.homeTeam];
    const awayTeam = teamStats[match.awayTeam];
    
    if(homeTeam && awayTeam){
      // Update goals
      homeTeam.goalsFor += match.homeScore;
      homeTeam.goalsAgainst += match.awayScore;
      awayTeam.goalsFor += match.awayScore;
      awayTeam.goalsAgainst += match.homeScore;
      
      // Update clean sheets
      if(match.awayScore === 0){
        homeTeam.cleanSheets++;
      }
      if(match.homeScore === 0){
        awayTeam.cleanSheets++;
      }
      
      // Update wins/draws/losses
      if(match.homeScore > match.awayScore){
        homeTeam.wins++;
        awayTeam.losses++;
      } else if(match.homeScore < match.awayScore){
        homeTeam.losses++;
        awayTeam.wins++;
      } else {
        homeTeam.draws++;
        awayTeam.draws++;
      }
    }
  });
  
  // Calculate goal difference and points
  const teams = Object.values(teamStats).map(team => ({
    ...team,
    goalDifference: team.goalsFor - team.goalsAgainst,
    points: team.wins * 3 + team.draws
  }));
  
  // Sort by points (desc), then goal difference (desc), then goals for (desc)
  teams.sort((a, b) => {
    if(b.points !== a.points) return b.points - a.points;
    if(b.goalDifference !== a.goalDifference) return b.goalDifference - a.goalDifference;
    return b.goalsFor - a.goalsFor;
  });
  
  return teams;
}

function renderTeamScoreboard(practice){
  const teamStats = calculateTeamStats(practice);
  const panel = document.getElementById('teamScoreboardPanel');
  const container = document.getElementById('teamScoreboard');
  
  if(!teamStats || teamStats.length === 0){
    panel.style.display = 'none';
    return;
  }
  
  panel.style.display = 'block';
  
  container.innerHTML = `
    <div class="scroll-table">
      <table>
        <thead>
          <tr>
            <th>Team</th><th>W</th><th>D</th><th>L</th><th>GF</th><th>GA</th><th>GD</th><th>CS</th><th>Pts</th>
          </tr>
        </thead>
        <tbody>
          ${teamStats.map((team, idx) => {
            const color = getTeamColor(team.name);
            const isFirst = idx === 0;
            
            return `<tr style="background: ${isFirst ? `linear-gradient(135deg, ${color.bg}, rgba(255,255,255,.02))` : `linear-gradient(135deg, rgba(255,255,255,.03), rgba(255,255,255,.01))`}; ${isFirst ? 'border-color: rgba(57,255,20,.3); box-shadow: 0 4px 16px rgba(57,255,20,.15);' : ''}">
              <td>
                <span style="font-weight:${isFirst ? '800' : '700'}; font-size:${isFirst ? '16px' : '15px'};">
                  ${isFirst ? 'üèÜ ' : ''}${team.name}
                </span>
              </td>
              <td style="color:${isFirst ? 'var(--green)' : 'var(--white)'}; font-weight:700;">${team.wins}</td>
              <td style="color:var(--muted); font-weight:600;">${team.draws}</td>
              <td style="color:var(--muted-2); font-weight:600;">${team.losses}</td>
              <td style="font-weight:600;">${team.goalsFor}</td>
              <td style="font-weight:600;">${team.goalsAgainst}</td>
              <td style="color:${team.goalDifference >= 0 ? 'var(--green)' : 'var(--red)'}; font-weight:700;">${team.goalDifference >= 0 ? '+' : ''}${team.goalDifference}</td>
              <td style="color:var(--green); font-weight:700;">${team.cleanSheets}</td>
              <td style="font-weight:800; font-size:16px; color:var(--green);">${team.points}</td>
            </tr>`;
          }).join('')}
        </tbody>
      </table>
    </div>
  `;
}

/* ------- Match Results Timeline ------- */
function renderMatchTimeline(practice){
  if(!practice.matches || practice.matches.length === 0){
    document.getElementById('matchTimelinePanel').style.display = 'none';
    return;
  }
  
  const panel = document.getElementById('matchTimelinePanel');
  const container = document.getElementById('matchTimeline');
  
  panel.style.display = 'block';
  
  // Sort matches by matchNumber
  const sortedMatches = [...practice.matches].sort((a, b) => a.matchNumber - b.matchNumber);
  
  container.innerHTML = `
    <div class="scroll-table" style="max-height: 400px;">
      <table>
        <thead>
          <tr>
            <th style="width: 50px;">#</th>
            <th>Home</th>
            <th style="width: 80px;">Score</th>
            <th>Away</th>
            <th style="width: 80px;">Result</th>
          </tr>
        </thead>
        <tbody>
          ${sortedMatches.map(match => {
            const homeColor = getTeamColor(match.homeTeam);
            const awayColor = getTeamColor(match.awayTeam);
            const homeWon = match.homeScore > match.awayScore;
            const awayWon = match.awayScore > match.homeScore;
            const isDraw = match.homeScore === match.awayScore;
            
            return `
            <tr>
              <td style="text-align:center;">
                <span style="
                  display:inline-block;
                  padding:4px 8px;
                  border-radius:6px;
                  background:rgba(255,255,255,.08);
                  border:1px solid var(--border);
                  font-weight:700;
                  font-size:11px;
                  color:var(--muted);
                ">${match.matchNumber}</span>
              </td>
              <td>
                <span style="font-weight:${homeWon ? '800' : '600'}; color:${homeWon ? 'var(--green)' : 'var(--white)'};">
                  ${match.homeTeam}
                </span>
              </td>
              <td style="text-align:center; font-weight:800; font-size:15px;">
                ${match.homeScore} - ${match.awayScore}
              </td>
              <td>
                <span style="font-weight:${awayWon ? '800' : '600'}; color:${awayWon ? 'var(--green)' : 'var(--white)'};">
                  ${match.awayTeam}
                </span>
              </td>
              <td style="text-align:center;">
                ${isDraw ? 
                  '<span style="padding:4px 8px; border-radius:6px; font-size:11px; font-weight:700; background:rgba(255,255,255,.1); border:1px solid var(--border); color:var(--muted);">Draw</span>' :
                  `<span style="padding:4px 8px; border-radius:6px; font-size:11px; font-weight:700; background:${homeWon ? homeColor.bg : awayColor.bg}; border:1px solid ${homeWon ? homeColor.border : awayColor.border}; color:var(--white);">${homeWon ? match.homeTeam : match.awayTeam}</span>`
                }
              </td>
            </tr>
            `;
          }).join('')}
        </tbody>
      </table>
    </div>
  `;
}

/* ------- Head-to-Head Statistics ------- */
function calculateHeadToHead(practice){
  if(!practice.matches || practice.matches.length === 0){
    return null;
  }
  
  const h2h = {};
  
  practice.matches.forEach(match => {
    const homeTeam = match.homeTeam;
    const awayTeam = match.awayTeam;
    
    // Create consistent key (alphabetically sorted team names)
    const sortedTeams = [homeTeam, awayTeam].sort();
    const key = sortedTeams.join(' vs ');
    
    if(!h2h[key]){
      h2h[key] = {
        team1: sortedTeams[0],  // Alphabetically first
        team2: sortedTeams[1],  // Alphabetically second
        team1Wins: 0,
        team2Wins: 0,
        draws: 0,
        team1Goals: 0,
        team2Goals: 0
      };
    }
    
    const stats = h2h[key];
    
    // Determine which team is team1 (alphabetically first) in this matchup
    const isHomeTeamFirst = homeTeam < awayTeam;
    const team1Score = isHomeTeamFirst ? match.homeScore : match.awayScore;
    const team2Score = isHomeTeamFirst ? match.awayScore : match.homeScore;
    
    if(team1Score > team2Score){
      stats.team1Wins++;
    } else if(team2Score > team1Score){
      stats.team2Wins++;
    } else {
      stats.draws++;
    }
    
    stats.team1Goals += team1Score;
    stats.team2Goals += team2Score;
  });
  
  return Object.values(h2h);
}

function renderHeadToHead(practice){
  const h2hStats = calculateHeadToHead(practice);
  const panel = document.getElementById('headToHeadPanel');
  const container = document.getElementById('headToHead');
  
  if(!h2hStats || h2hStats.length === 0){
    panel.style.display = 'none';
    return;
  }
  
  panel.style.display = 'block';
  
  // Sort by total matches (most played first)
  h2hStats.sort((a, b) => {
    const totalA = a.team1Wins + a.team2Wins + a.draws;
    const totalB = b.team1Wins + b.team2Wins + b.draws;
    return totalB - totalA;
  });
  
  container.innerHTML = `
    <div class="scroll-table">
      <table>
        <thead>
          <tr>
            <th>Teams</th><th>W</th><th>D</th><th>L</th><th>GF</th><th>GA</th><th>Record</th>
          </tr>
        </thead>
        <tbody>
          ${h2hStats.map(stat => {
            const team1Color = getTeamColor(stat.team1);
            const team2Color = getTeamColor(stat.team2);
            const totalMatches = stat.team1Wins + stat.team2Wins + stat.draws;
            
            return `
            <tr>
              <td>
                <div style="display:flex; align-items:center; gap:8px;">
                  <span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:${team1Color.badge};border:1px solid ${team1Color.border};"></span>
                  <span style="font-weight:700;">${stat.team1}</span>
                  <span style="color:var(--muted-2);">vs</span>
                  <span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:${team2Color.badge};border:1px solid ${team2Color.border};"></span>
                  <span style="font-weight:700;">${stat.team2}</span>
                </div>
              </td>
              <td style="color:var(--green); font-weight:700;">${stat.team1Wins}</td>
              <td style="color:var(--muted); font-weight:600;">${stat.draws}</td>
              <td style="color:var(--red); font-weight:700;">${stat.team2Wins}</td>
              <td style="font-weight:600;">${stat.team1Goals}</td>
              <td style="font-weight:600;">${stat.team2Goals}</td>
              <td style="font-weight:700; font-size:13px;">
                <div>
                  <span style="color:var(--green);">${stat.team1Wins}</span>-
                  <span style="color:var(--muted);">${stat.draws}</span>-
                  <span style="color:var(--red);">${stat.team2Wins}</span>
                  <div style="color:var(--muted-2); font-size:11px; margin-top:4px; font-weight:500;">
                    ${stat.team1} ${stat.team1Wins}-${stat.draws}-${stat.team2Wins} ${stat.team2}
                  </div>
                  <div style="color:var(--muted-2); font-size:10px; margin-top:2px;">
                    (${totalMatches} matches)
                  </div>
                </div>
              </td>
            </tr>
            `;
          }).join('')}
        </tbody>
      </table>
    </div>
  `;
}

function updatePracticeView(){
  currentPractice=parseInt(document.getElementById('weekSelect').value);
  const practice=practices[currentPractice];
  renderDeviationLeaderForPractice(practice);
  const tbody=document.getElementById('weeklyStatsBody');
  
  // Calculate clean sheets from matches if available
  const calculatedCleanSheets = calculateCleanSheetsFromMatches(practice);

  tbody.innerHTML = practice.stats
    .slice()
    .sort((a, b) => a.name.localeCompare(b.name))
    .map(p=>{
      // Use calculated clean sheets if available, otherwise use original cleanSheet field
      const cleanSheets = calculatedCleanSheets && calculatedCleanSheets[p.name] !== undefined
        ? calculatedCleanSheets[p.name]
        : p.cleanSheet;
      const pts=p.attendance+p.goals+p.assists+cleanSheets+(p.turbotorped*5);
      const playerTeam = getPlayerTeam(practice, p.name);
      const badge = renderTeamBadge(playerTeam);
      return `<tr>
        <td>${badge}<span class="player-name">${p.name}</span></td>
        <td>${p.goals}</td>
        <td>${p.assists}</td>
        <td>${cleanSheets}</td>
        <td>${renderStars(p.turbotorped)}</td>
        <td><span class="points">${pts}</span></td>
      </tr>`;
    }).join('');

  const team = pickPracticeTopTeam(practice);
  document.getElementById('weeklyTeam').innerHTML = `
    <div class="weekly-team">
      ${team.map(p => {
        let tooltip = '';
        if(p.role === 'ATT') tooltip = 'Selected by: Goals + Assists';
        else if(p.role === 'DEF') {
          const hist = p.historicalWeightedCS ? p.historicalWeightedCS.toFixed(1) : '0.0';
          tooltip = `Selected by: ${p.cleanSheet} CS (current) + ${hist} CS (avg history) √ó 0.3`;
        }
        else tooltip = 'Selected by: Highest remaining points';

        const playerTeam = getPlayerTeam(practice, p.name);
        const badge = renderTeamBadge(playerTeam);
        return `
        <div class="team-player" title="${tooltip}">
          <div class="team-player-name">${badge}${p.name}</div>
          <div class="team-player-stats">
            ${p.role === 'ATT' ? 'ATT' : (p.role === 'DEF' ? 'DEF' : '‚òÖ')}
            ‚Ä¢ ${p.goals}G ${p.assists}A
            ‚Ä¢ ${p.cleanSheet}CS
            ${p.turbotorped ? '‚Ä¢ ' + renderStars(p.turbotorped) : ''}
          </div>
        </div>
      `}).join('')}
    </div>`;

  const prevNames=new Set(); practices.slice(0,currentPractice).forEach(practice=>practice.stats.forEach(p=>prevNames.add(p.name)));
  const newcomers=practice.stats.filter(p=>!prevNames.has(p.name));
  const np=document.getElementById('newPlayers');
  np.innerHTML = newcomers.length? newcomers.map(p=>`<div class="metric-item"><div class="metric-player new-player">üÜï ${p.name}</div></div>`).join('') : '<div class="empty-state">No new players this practice</div>';
  
  // Render team scoreboard if matches/teams data is available
  renderTeamScoreboard(practice);
  renderMatchTimeline(practice);
  renderHeadToHead(practice);
}
/* ------- Team Balancer ------- */
let selectedPlayers = new Set();
let newPlayers = new Set();
let lastGeneratedTeams = null;

// Save to localStorage
function saveTeamBalancerState(){
  try {
    localStorage.setItem('teamBalancer_selectedPlayers', JSON.stringify(Array.from(selectedPlayers)));
    localStorage.setItem('teamBalancer_newPlayers', JSON.stringify(Array.from(newPlayers)));
    localStorage.setItem('teamBalancer_teamCount', document.getElementById('teamCountSelect')?.value || '3');
    localStorage.setItem('teamBalancer_randomness', document.getElementById('softTemp')?.value || '0.5');
    localStorage.setItem('teamBalancer_seed', document.getElementById('softSeed')?.value || '');
    localStorage.setItem('teamBalancer_penaltyFactor', document.getElementById('penaltyFactor')?.value || '0.001');
    if(lastGeneratedTeams){
      localStorage.setItem('teamBalancer_generatedTeams', JSON.stringify(lastGeneratedTeams));
    }
  } catch(e) {
    console.warn('Failed to save team balancer state:', e);
  }
}

// Load from localStorage
function loadTeamBalancerState(){
  try {
    const savedSelected = localStorage.getItem('teamBalancer_selectedPlayers');
    if(savedSelected){
      selectedPlayers = new Set(JSON.parse(savedSelected));
    }
    
    const savedNew = localStorage.getItem('teamBalancer_newPlayers');
    if(savedNew){
      newPlayers = new Set(JSON.parse(savedNew));
    }
    
    const savedTeamCount = localStorage.getItem('teamBalancer_teamCount');
    if(savedTeamCount && document.getElementById('teamCountSelect')){
      document.getElementById('teamCountSelect').value = savedTeamCount;
    }
    
    const savedRandomness = localStorage.getItem('teamBalancer_randomness');
    if(savedRandomness){
      document.getElementById('softTemp').value = savedRandomness;
      const val = savedRandomness === 'random' ? 'random' : parseFloat(savedRandomness);
      setRandomness(val);
    } else {
      // Default to "Some" (0.5) if no saved value
      setRandomness(0.5);
    }
    
    const savedSeed = localStorage.getItem('teamBalancer_seed');
    if(savedSeed !== null && document.getElementById('softSeed')){
      document.getElementById('softSeed').value = savedSeed;
    }
    
    const savedPenaltyFactor = localStorage.getItem('teamBalancer_penaltyFactor');
    if(savedPenaltyFactor !== null && document.getElementById('penaltyFactor')){
      document.getElementById('penaltyFactor').value = savedPenaltyFactor;
    }
    
    const savedTeams = localStorage.getItem('teamBalancer_generatedTeams');
    if(savedTeams){
      lastGeneratedTeams = JSON.parse(savedTeams);
    }
  } catch(e) {
    console.warn('Failed to load team balancer state:', e);
  }
}

// Clear all team balancer state
function clearTeamBalancer(){
  // Clear in-memory state
  selectedPlayers = new Set();
  newPlayers = new Set();
  lastGeneratedTeams = null;
  
  // Clear localStorage
  try {
    localStorage.removeItem('teamBalancer_selectedPlayers');
    localStorage.removeItem('teamBalancer_newPlayers');
    localStorage.removeItem('teamBalancer_teamCount');
    localStorage.removeItem('teamBalancer_randomness');
    localStorage.removeItem('teamBalancer_seed');
    localStorage.removeItem('teamBalancer_penaltyFactor');
    localStorage.removeItem('teamBalancer_generatedTeams');
  } catch(e) {
    console.warn('Failed to clear team balancer state:', e);
  }
  
  // Reset UI
  renderPlayerSelection();
  document.getElementById('teamBalancerResults').innerHTML = 
    '<div class="empty-state">Select players and click "Generate Teams" to balance teams</div>';
  
  // Reset settings to defaults
  if(document.getElementById('teamCountSelect')){
    document.getElementById('teamCountSelect').value = '3';
  }
  setRandomness(0.5); // This will also save, but that's fine
  if(document.getElementById('softSeed')){
    document.getElementById('softSeed').value = '';
  }
  if(document.getElementById('penaltyFactor')){
    document.getElementById('penaltyFactor').value = '0.001';
  }
}

function renderPlayerSelection(){
  const stats = calculateTotalStats();
  const existingPlayers = Object.keys(stats);
  const allPlayersSet = new Set([...existingPlayers, ...Array.from(newPlayers)]);
  
  // Sort by attendance (descending), then alphabetically for ties
  const allPlayers = Array.from(allPlayersSet).map(name => {
    const s = stats[name] || {goals:0, assists:0, cleanSheets:0, attendance:0};
    return {
      name,
      attendance: s.attendance || 0
    };
  }).sort((a, b) => {
    // First sort by attendance (descending)
    if(b.attendance !== a.attendance){
      return b.attendance - a.attendance;
    }
    // Then alphabetically
    return a.name.localeCompare(b.name);
  });
  
  const el = document.getElementById('playerSelection');
  
  el.innerHTML = allPlayers.map(({name}) => {
    const s = stats[name] || {goals:0, assists:0, cleanSheets:0, attendance:0};
    const attendance = s.attendance || 0;
    const isSelected = selectedPlayers.has(name);
    const isNew = newPlayers.has(name) && !stats[name];
    
    // Calculate averages per practice
    const avgGoals = attendance > 0 ? (s.goals || 0) / attendance : 0;
    const avgAssists = attendance > 0 ? (s.assists || 0) / attendance : 0;
    const avgCleanSheets = attendance > 0 ? (s.cleanSheets || 0) / attendance : 0;
    
    return `
      <label class="player-checkbox">
        <input type="checkbox" ${isSelected ? 'checked' : ''} onchange="togglePlayer('${name}')">
        <div class="player-checkbox-label">
          <span class="player-checkbox-name">${isNew ? 'üÜï ' : ''}${name}</span>
          <div class="player-checkbox-stats">
            <span>‚öΩ${avgGoals.toFixed(2)}</span>
            <span>üéØ${avgAssists.toFixed(2)}</span>
            <span>üõ°Ô∏è${avgCleanSheets.toFixed(2)}</span>
            ${attendance > 0 ? `<span style="color:var(--muted-2);">(${attendance})</span>` : ''}
          </div>
        </div>
      </label>
    `;
  }).join('');
}

function togglePlayer(name){
  if(selectedPlayers.has(name)){
    selectedPlayers.delete(name);
  } else {
    selectedPlayers.add(name);
  }
  renderPlayerSelection();
  saveTeamBalancerState();
}

function addNewPlayer(){
  const input = document.getElementById('newPlayerInput');
  const name = input.value.trim();
  const stats = calculateTotalStats();
  if(name && !stats[name] && !newPlayers.has(name)){
    newPlayers.add(name);
    selectedPlayers.add(name);
    input.value = '';
    renderPlayerSelection();
    saveTeamBalancerState();
  } else if(name && stats[name]){
    alert('Player already exists in the database');
    input.value = '';
  }
}

// Seeded RNG so the same seed reproduces the same teams
function mulberry32(seed){
  let t = seed >>> 0;
  return function(){
    t += 0x6D2B79F5;
    let r = Math.imul(t ^ (t >>> 15), 1 | t);
    r ^= r + Math.imul(r ^ (r >>> 7), 61 | r);
    return ((r ^ (r >>> 14)) >>> 0) / 4294967296;
  };
}

// Softmin sampler over [{i, score}], lower score = better
function softminPick(scored, temp01, rng){
  // Completely random: uniform selection
  if(temp01 === 'random'){
    return scored[Math.floor(rng() * scored.length)];
  }
  
  // map slider r‚àà[0,1] to œÑ; square gives finer control near greedy
  const tau = Math.max(1e-6, 0.02 + 0.98*(temp01*temp01));
  const vals = scored.map(x => x.score);
  const smin = Math.min(...vals), smax = Math.max(...vals);
  const scale = Math.max(1e-9, smax - smin);          // range-based normalization

  // stable weights
  const weights = scored.map(x => Math.exp(-(x.score - smin)/(tau*scale)));
  let Z = 0; for(const w of weights) Z += w;
  if(!isFinite(Z) || Z === 0) return scored[0];       // fallback to best

  // sample
  let u = rng()*Z;
  for(let k=0;k<scored.length;k++){
    u -= weights[k];
    if(u <= 0) return scored[k];
  }
  return scored[scored.length-1];
}

// Optimal team balancing using branch-and-bound
function solveOptimal(pdata, numTeams, base, r, cooccurrence = new Map(), penaltyFactor = 0.001){
  const N = pdata.length;
  const startTime = Date.now();
  const timeout = 10000; // 10 second timeout
  
  let bestSolution = null;
  let bestScore = Infinity; // Combined stat differences + co-occurrence penalty
  let bestVariance = Infinity; // Actually stores sum of stat differences (goals, assists, clean sheets)
  let bestPenalty = Infinity;
  let bestBreakdown = null; // Store breakdown for final logging
  let nodesExplored = 0;
  
  // Team size distribution: r teams get base+1, rest get base
  const teamSizes = Array(numTeams).fill(base);
  for(let i = 0; i < r; i++) teamSizes[i] = base + 1;
  
  // Calculate team totals for goals, assists, clean sheets
  const getTeamStats = (assignment) => {
    const teams = Array.from({length: numTeams}, () => ({ 
      goals: 0, assists: 0, cleanSheets: 0, count: 0 
    }));
    for(let i = 0; i < N; i++){
      const teamIdx = assignment[i];
      teams[teamIdx].goals += pdata[i].goals;
      teams[teamIdx].assists += pdata[i].assists;
      teams[teamIdx].cleanSheets += pdata[i].cleanSheets;
      teams[teamIdx].count++;
    }
    return teams;
  };
  
  // Check constraint: teams with more players should not have higher averages per stat
  const satisfiesConstraint = (assignment) => {
    const teams = getTeamStats(assignment);
    
    // Check if any large team has higher averages than any small team
    // (when teams are at full size)
    for(let i = 0; i < numTeams; i++){
      if(teams[i].count !== teamSizes[i]) continue; // Not at full size yet
      
      const isLarge = teamSizes[i] === base + 1;
      const avgGoalsI = teams[i].goals / teams[i].count;
      const avgAssistsI = teams[i].assists / teams[i].count;
      const avgCleanSheetsI = teams[i].cleanSheets / teams[i].count;
      
      for(let j = 0; j < numTeams; j++){
        if(i === j || teams[j].count !== teamSizes[j]) continue;
        const isOtherLarge = teamSizes[j] === base + 1;
        
        if(isLarge && !isOtherLarge){
          const avgGoalsJ = teams[j].goals / teams[j].count;
          const avgAssistsJ = teams[j].assists / teams[j].count;
          const avgCleanSheetsJ = teams[j].cleanSheets / teams[j].count;
          
          // Large team should not have higher averages than small team
          if(avgGoalsI > avgGoalsJ || avgAssistsI > avgAssistsJ || avgCleanSheetsI > avgCleanSheetsJ){
            return false;
          }
        }
      }
    }
    return true;
  };
  
  // Calculate sum of squared differences for goals, assists, clean sheets
  // Also includes variance of team averages (overall strength) to ensure balanced teams
  const calculateStatDifferences = (assignment, returnBreakdown = false) => {
    const teams = getTeamStats(assignment);
    
    // Calculate team averages for each stat type (size-independent)
    const teamGoalAverages = teams.map(t => t.count > 0 ? t.goals / t.count : 0);
    const teamAssistAverages = teams.map(t => t.count > 0 ? t.assists / t.count : 0);
    const teamCleanSheetAverages = teams.map(t => t.count > 0 ? t.cleanSheets / t.count : 0);
    
    const meanGoalAvg = teamGoalAverages.reduce((sum, a) => sum + a, 0) / numTeams;
    const meanAssistAvg = teamAssistAverages.reduce((sum, a) => sum + a, 0) / numTeams;
    const meanCleanSheetAvg = teamCleanSheetAverages.reduce((sum, a) => sum + a, 0) / numTeams;
    
    // Sum of squared differences from mean for each stat (using averages, not totals)
    const goalsDiff = teamGoalAverages.reduce((sum, a) => sum + Math.pow(a - meanGoalAvg, 2), 0);
    const assistsDiff = teamAssistAverages.reduce((sum, a) => sum + Math.pow(a - meanAssistAvg, 2), 0);
    const cleanSheetsDiff = teamCleanSheetAverages.reduce((sum, a) => sum + Math.pow(a - meanCleanSheetAvg, 2), 0);
    
    // Calculate team averages (total strength per player) to ensure overall balance
    const teamAverages = teams.map(t => {
      const total = t.goals + t.assists + t.cleanSheets;
      return t.count > 0 ? total / t.count : 0;
    });
    const meanAverage = teamAverages.reduce((sum, a) => sum + a, 0) / numTeams;
    const averageVariance = teamAverages.reduce((sum, a) => sum + Math.pow(a - meanAverage, 2), 0) / numTeams;
    const weightedAverageVariance = averageVariance * 5 * numTeams;
    
    // Calculate skill distribution variance - ensures teams have similar mix of strong/weak players
    const teamSkillDistributions = [];
    for(let i = 0; i < numTeams; i++){
      const teamPlayers = [];
      for(let j = 0; j < N; j++){
        if(assignment[j] === i){
          teamPlayers.push(pdata[j].total); // Player's total strength
        }
      }
      if(teamPlayers.length > 1){
        const teamMean = teamPlayers.reduce((sum, s) => sum + s, 0) / teamPlayers.length;
        const teamVariance = teamPlayers.reduce((sum, s) => sum + Math.pow(s - teamMean, 2), 0) / teamPlayers.length;
        teamSkillDistributions.push(teamVariance);
      } else if(teamPlayers.length === 1){
        teamSkillDistributions.push(0); // Single player has no variance
      } else {
        teamSkillDistributions.push(0); // Empty team
      }
    }
    
    // Calculate variance of skill distributions across teams
    const meanDistribution = teamSkillDistributions.reduce((sum, d) => sum + d, 0) / numTeams;
    const distributionVariance = teamSkillDistributions.reduce((sum, d) => sum + Math.pow(d - meanDistribution, 2), 0) / numTeams;
    const weightedDistributionVariance = distributionVariance * 0.01 * numTeams;
    
    const total = goalsDiff + assistsDiff + cleanSheetsDiff + weightedAverageVariance + weightedDistributionVariance;
    
    if(returnBreakdown){
      return {
        goalsDiff,
        assistsDiff,
        cleanSheetsDiff,
        averageVariance,
        weightedAverageVariance,
        distributionVariance,
        weightedDistributionVariance,
        total
      };
    }
    
    return total;
  };
  
  // Calculate co-occurrence penalty for entire assignment
  const calculateCooccurrencePenalty = (assignment) => {
    let totalPenalty = 0;
    const teamPlayers = Array.from({length: numTeams}, () => []);
    
    for(let i = 0; i < N; i++){
      teamPlayers[assignment[i]].push(pdata[i].name);
    }
    
    teamPlayers.forEach(players => {
      for(let i = 0; i < players.length; i++){
        for(let j = i + 1; j < players.length; j++){
          const key = players[i] < players[j] 
            ? `${players[i]}|${players[j]}` 
            : `${players[j]}|${players[i]}`;
          const count = cooccurrence.get(key) || 0;
          if(count > 0){
            totalPenalty += penaltyFactor * count * count;
          }
        }
      }
    });
    
    return totalPenalty;
  };
  
  // Branch and bound recursive search
  const search = (assignment, playerIdx, teamCounts) => {
    nodesExplored++;
    
    // Timeout check
    if(Date.now() - startTime > timeout) return false;
    
    // Base case: all players assigned
    if(playerIdx === N){
      if(!satisfiesConstraint(assignment)) return false;
      const statBreakdown = calculateStatDifferences(assignment, true);
      const cooccurrencePenalty = calculateCooccurrencePenalty(assignment);
      const totalScore = statBreakdown.total + cooccurrencePenalty;
      if(totalScore < bestScore){
        bestScore = totalScore;
        bestVariance = statBreakdown.total;
        bestPenalty = cooccurrencePenalty;
        bestBreakdown = statBreakdown; // Store breakdown for final logging
        bestSolution = assignment.slice(); // Copy assignment
      }
      return true;
    }
    
    // Pruning: early constraint check and variance bound
    if(playerIdx > 0){
      // Check if constraint is already violated (can't be fixed)
      const teams = Array.from({length: numTeams}, () => ({ sumTotal: 0, count: 0 }));
      for(let i = 0; i < playerIdx; i++){
        teams[assignment[i]].sumTotal += pdata[i].total;
        teams[assignment[i]].count++;
      }
      // If any large team already has higher avg than any small team, prune
      for(let i = 0; i < numTeams; i++){
        for(let j = 0; j < numTeams; j++){
          if(teamSizes[i] === base + 1 && teamSizes[j] === base){
            const avgI = teams[i].count > 0 ? teams[i].sumTotal / teams[i].count : 0;
            const avgJ = teams[j].count > 0 ? teams[j].sumTotal / teams[j].count : 0;
            if(avgI > avgJ && teams[i].count === teamSizes[i] && teams[j].count === teamSizes[j]){
              return false; // Constraint violated, prune
            }
          }
        }
      }
    }
    
    // Try assigning current player to each team that has space
    const player = pdata[playerIdx];
    let found = false;
    
    // Try teams in order of current total (heuristic: assign to lighter teams first)
    const teamOptions = [];
    for(let i = 0; i < numTeams; i++){
      if(teamCounts[i] < teamSizes[i]){
        const currentTotal = assignment.slice(0, playerIdx)
          .reduce((sum, team, idx) => sum + (team === i ? pdata[idx].total : 0), 0);
        teamOptions.push({ team: i, total: currentTotal });
      }
    }
    teamOptions.sort((a, b) => a.total - b.total); // Lightest first
    
    for(const { team } of teamOptions){
      assignment[playerIdx] = team;
      teamCounts[team]++;
      
      // Recursive call
      if(search(assignment, playerIdx + 1, teamCounts)){
        found = true;
      }
      
      // Backtrack
      teamCounts[team]--;
    }
    
    return found;
  };
  
  // Initialize search
  const assignment = Array(N).fill(-1);
  const teamCounts = Array(numTeams).fill(0);
  search(assignment, 0, teamCounts);
  
  if(!bestSolution) return null;
  
  // Log detailed breakdown for final best solution
  if(bestBreakdown){
    console.log('=== OBJECTIVE FUNCTION BREAKDOWN ===');
    console.log(`Goals difference: ${bestBreakdown.goalsDiff.toFixed(4)}`);
    console.log(`Assists difference: ${bestBreakdown.assistsDiff.toFixed(4)}`);
    console.log(`Clean sheets difference: ${bestBreakdown.cleanSheetsDiff.toFixed(4)}`);
    console.log(`Average variance: ${bestBreakdown.averageVariance.toFixed(4)} (weighted: ${bestBreakdown.weightedAverageVariance.toFixed(4)})`);
    console.log(`Distribution variance: ${bestBreakdown.distributionVariance.toFixed(4)} (weighted: ${bestBreakdown.weightedDistributionVariance.toFixed(4)})`);
    console.log(`Stat differences total: ${bestBreakdown.total.toFixed(4)}`);
    console.log(`Co-occurrence penalty: ${bestPenalty.toFixed(4)}`);
    console.log(`Total score: ${bestScore.toFixed(4)}`);
  }
  
  // Build result teams from optimal assignment
  const resultTeams = Array.from({length: numTeams}, () => ({
    players: [],
    sumGoals: 0,
    sumAssists: 0,
    sumCleanSheets: 0,
    sumTotal: 0
  }));
  
  for(let i = 0; i < N; i++){
    const teamIdx = bestSolution[i];
    const p = pdata[i];
    resultTeams[teamIdx].players.push(p);
    resultTeams[teamIdx].sumGoals += p.goals;
    resultTeams[teamIdx].sumAssists += p.assists;
    resultTeams[teamIdx].sumCleanSheets += p.cleanSheets;
    resultTeams[teamIdx].sumTotal += p.total;
  }
  
  console.log(`Optimal solution found (total score: ${bestScore.toFixed(4)}, stat differences: ${bestVariance.toFixed(4)}, co-occurrence penalty: ${bestPenalty.toFixed(4)}, nodes: ${nodesExplored})`);
  return resultTeams;
}

// Build co-occurrence map from historical practices
function buildPlayerCooccurrenceMap(selectedPlayers) {
  // Map: key: "player1|player2" (sorted alphabetically), value: count
  const cooccurrence = new Map();
  let practicesWithTeams = 0;
  
  // Process all historical practices that have teams data
  practices.forEach(practice => {
    if (!practice.teams || practice.teams.length === 0) return;
    practicesWithTeams++;
    
    practice.teams.forEach(team => {
      const teamPlayers = team.players.filter(p => selectedPlayers.includes(p));
      if (teamPlayers.length < 2) return; // Need at least 2 selected players
      
      // Count all pairs in this team
      for (let i = 0; i < teamPlayers.length; i++) {
        for (let j = i + 1; j < teamPlayers.length; j++) {
          const p1 = teamPlayers[i];
          const p2 = teamPlayers[j];
          // Create consistent key (alphabetically sorted)
          const key = p1 < p2 ? `${p1}|${p2}` : `${p2}|${p1}`;
          cooccurrence.set(key, (cooccurrence.get(key) || 0) + 1);
        }
      }
    });
  });
  
  // Log summary
  const totalPairs = cooccurrence.size;
  const maxCount = totalPairs > 0 ? Math.max(...Array.from(cooccurrence.values())) : 0;
  const topPairs = totalPairs > 0 
    ? Array.from(cooccurrence.entries())
        .sort((a, b) => b[1] - a[1])
        .slice(0, 5)
        .map(([pair, count]) => `${pair} (${count}x)`)
        .join(', ')
    : 'none';
  
  console.log('=== CO-OCCURRENCE MAP DEBUG ===');
  console.log(`Selected players: ${selectedPlayers.length} | Practices with teams: ${practicesWithTeams}`);
  console.log(`Total unique pairs: ${totalPairs} | Max co-occurrence: ${maxCount}`);
  if (totalPairs > 0) {
    console.log(`Top pairs: ${topPairs}`);
  }
  
  return cooccurrence;
}

// Calculate penalty for assigning a player to a team based on co-occurrence
function calculateSameTeamPenalty(playerName, teamPlayers, cooccurrence, penaltyFactor = 0.001) {
  if (teamPlayers.length === 0) return 0;
  
  let penalty = 0;
  teamPlayers.forEach(teammate => {
    if (teammate.name === playerName) return;
    
    // Create consistent key
    const key = playerName < teammate.name 
      ? `${playerName}|${teammate.name}` 
      : `${teammate.name}|${playerName}`;
    
    const count = cooccurrence.get(key) || 0;
    // Penalty increases with frequency: penaltyFactor per occurrence, squared to make frequent pairs more costly
    if (count > 0) {
      penalty += penaltyFactor * count * count; // Quadratic penalty
    }
  });
  
  return penalty;
}

function balanceTeams(players, numTeams, randomness=0, seed=null, penaltyFactor=0.001){
  const rng = seed==null ? Math.random : mulberry32(seed);

  // Build player strengths from season averages
  const stats = calculateTotalStats();
  
  // Build co-occurrence map from historical practices
  const cooccurrence = buildPlayerCooccurrenceMap(players);
  
  console.log(`Using co-occurrence penalty factor: ${penaltyFactor} (adjust via balanceTeams parameter)`);
  
  // Calculate league averages for new players (only from existing players with attendance > 0)
  const existingPlayers = Object.entries(stats).filter(([name, s]) => s.attendance > 0);
  let avgGoals = 0, avgAssists = 0, avgCleanSheets = 0;
  if(existingPlayers.length > 0){
    const totalGoals = existingPlayers.reduce((sum, [name, s]) => sum + (s.goals || 0), 0);
    const totalAssists = existingPlayers.reduce((sum, [name, s]) => sum + (s.assists || 0), 0);
    const totalCleanSheets = existingPlayers.reduce((sum, [name, s]) => sum + (s.cleanSheets || 0), 0);
    const totalAttendance = existingPlayers.reduce((sum, [name, s]) => sum + (s.attendance || 0), 0);
    
    if(totalAttendance > 0){
      avgGoals = totalGoals / totalAttendance;
      avgAssists = totalAssists / totalAttendance;
      avgCleanSheets = totalCleanSheets / totalAttendance;
    }
  }
  
  const pdata = players.map(name=>{
    const s = stats[name] || {goals:0,assists:0,cleanSheets:0,attendance:0};
    const A = s.attendance||0;
    const isNew = newPlayers.has(name) || !stats[name];
    
    // Use league averages for new players, otherwise use their actual averages
    const g = isNew ? avgGoals : (A ? (s.goals||0)/A : 0);
    const a = isNew ? avgAssists : (A ? (s.assists||0)/A : 0);
    const c = isNew ? avgCleanSheets : (A ? (s.cleanSheets||0)/A : 0);
    
    return { name, goals:g, assists:a, cleanSheets:c, total:g+a+c, attendance:A, isNew };
  }).sort((x,y)=> y.total - x.total); // strong ‚Üí weak

  const N = pdata.length, base = Math.floor(N/numTeams), r = N % numTeams;

  const teams = Array.from({length:numTeams}, ()=>({
    players:[], sumGoals:0, sumAssists:0, sumCleanSheets:0, sumTotal:0
  }));

  const avg  = t => t.players.length ? t.sumTotal / t.players.length : 0;
  const range = arr => Math.max(...arr) - Math.min(...arr);

  if(randomness === 'random'){
    // Completely random assignment: skip two-phase approach
    // Shuffle players randomly
    const shuffled = [...pdata];
    for(let i = shuffled.length - 1; i > 0; i--){
      const j = Math.floor(rng() * (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    
    // Create team size distribution: r teams get base+1, rest get base
    const teamSizes = Array(numTeams).fill(base);
    for(let i = 0; i < r; i++) teamSizes[i] = base + 1;
    
    // Shuffle team sizes randomly so which teams get extra players is random
    for(let i = teamSizes.length - 1; i > 0; i--){
      const j = Math.floor(rng() * (i + 1));
      [teamSizes[i], teamSizes[j]] = [teamSizes[j], teamSizes[i]];
    }
    
    // Assign shuffled players to teams according to sizes
    let playerIdx = 0;
    for(let teamIdx = 0; teamIdx < numTeams; teamIdx++){
      const t = teams[teamIdx];
      for(let i = 0; i < teamSizes[teamIdx]; i++){
        const p = shuffled[playerIdx++];
        t.players.push(p);
        t.sumGoals += p.goals;
        t.sumAssists += p.assists;
        t.sumCleanSheets += p.cleanSheets;
        t.sumTotal += p.total;
      }
    }
  } else if(randomness === 0 && N <= 24){
    // Optimal solution using branch-and-bound (only for small cases)
    const optimalTeams = solveOptimal(pdata, numTeams, base, r, cooccurrence, penaltyFactor);
    if(optimalTeams){
      // Copy optimal solution
      for(let i=0; i<numTeams; i++){
        teams[i] = optimalTeams[i];
      }
    } else {
      // Fallback to heuristic if optimal failed - use standard LPT + swap
      const extras = [];
      for(const p of pdata){
        const elig = [];
        for(let i=0;i<teams.length;i++) if(teams[i].players.length < base) elig.push(i);
        if(!elig.length){ extras.push(p); continue; }
        
        // Score includes co-occurrence penalty
        const scored = elig.map(i=> {
          const penalty = calculateSameTeamPenalty(p.name, teams[i].players, cooccurrence, penaltyFactor);
          return { i, score: teams[i].sumTotal + penalty };
        }).sort((a,b)=> a.score - b.score);
        
        const t = teams[scored[0].i];
        t.players.push(p);
        t.sumGoals+=p.goals; t.sumAssists+=p.assists; t.sumCleanSheets+=p.cleanSheets; t.sumTotal+=p.total;
      }
      extras.sort((a,b)=> a.total - b.total);
      
      // Phase 2: Swap-based assignment
      for(const u of extras.slice(0, r)){
        const Sopts = teams.map((t,i)=>({ i, score: -avg(t) })).sort((a,b)=> a.score - b.score);
        const S = Sopts[0].i;
        const Wpool = [];
        for(let i=0;i<teams.length;i++) if(teams[i].players.length===base)
          Wpool.push({ i, score: avg(teams[i]) });
        Wpool.sort((a,b)=> a.score - b.score);
        const W = Wpool[0].i;
        
        const tS = teams[S], tW = teams[W];
        tS.players.push(u);
        tS.sumGoals+=u.goals; tS.sumAssists+=u.assists; tS.sumCleanSheets+=u.cleanSheets; tS.sumTotal+=u.total;
        
        const candidates = tS.players.filter(x=>x.name!==u.name).map(p=>{
          const SsumAfter = tS.sumTotal - p.total;
          const WsumAfter = tW.sumTotal + p.total;
          const SavgAfter = SsumAfter / base;
          const WavgAfter = WsumAfter / (base+1);
          const avgs = teams.map((t,idx)=>{
            if(idx===S) return SavgAfter;
            if(idx===W) return WavgAfter;
            return avg(t);
          });
          
          // Add co-occurrence penalties
          const penaltyS = calculateSameTeamPenalty(u.name, 
            tS.players.filter(x => x.name !== u.name && x.name !== p.name), 
            cooccurrence, penaltyFactor);
          const penaltyW = calculateSameTeamPenalty(p.name, 
            tW.players, 
            cooccurrence, penaltyFactor);
          
          const valid = WavgAfter <= SavgAfter;
          return { p, score: valid ? range(avgs) + penaltyS + penaltyW : Infinity, valid };
        }).filter(c => c.valid).sort((a,b)=> a.score - b.score);
        
        if(candidates.length === 0){
          const weakest = tS.players.filter(x=>x.name!==u.name).sort((a,b)=> a.total - b.total)[0];
          candidates.push({ p: weakest, score: 0, valid: true });
        }
        
        const p = candidates[0].p;
        const rm = tS.players.findIndex(x=>x.name===p.name);
        tS.players.splice(rm,1);
        tS.sumGoals-=p.goals; tS.sumAssists-=p.assists; tS.sumCleanSheets-=p.cleanSheets; tS.sumTotal-=p.total;
        tW.players.push(p);
        tW.sumGoals+=p.goals; tW.sumAssists+=p.assists; tW.sumCleanSheets+=p.cleanSheets; tW.sumTotal+=p.total;
      }
    }
  } else {
    // -------- Phase 1: fill equal base rosters using LPT (smallest sumTotal)
    const extras = [];
    for(const p of pdata){
      const elig = [];
      for(let i=0;i<teams.length;i++) if(teams[i].players.length < base) elig.push(i);
      if(!elig.length){ extras.push(p); continue; }

      // Score by sumTotal + co-occurrence penalty (LPT: assign to lightest team)
      // Lower score = better (lighter team, fewer repeated pairings)
      const scored = elig.map(i=> {
        const penalty = calculateSameTeamPenalty(p.name, teams[i].players, cooccurrence, penaltyFactor);
        return { i, score: teams[i].sumTotal + penalty };
      }).sort((a,b)=> a.score - b.score);

      const pick = randomness !== 0 ? softminPick(scored, randomness, rng) : scored[0];
      const t = teams[pick.i];
      t.players.push(p);
      t.sumGoals+=p.goals; t.sumAssists+=p.assists; t.sumCleanSheets+=p.cleanSheets; t.sumTotal+=p.total;
    }

    // -------- Phase 2: handle extras
    extras.sort((a,b)=> a.total - b.total); // weakest first
    // Swap-based assignment for balanced teams
    for(const u of extras.slice(0, r)){
      // Pick S ‚âà strongest team (higher avg is "stronger").
      // Use softmin on scoreS = -avg to bias toward strongest.
      const Sopts = teams.map((t,i)=>({ i, score: -avg(t) }))
                         .sort((a,b)=> a.score - b.score);
      const S = randomness !== 0 ? softminPick(Sopts, randomness*0.75, rng).i : Sopts[0].i;

      // Pick W among teams still at base size, bias toward weakest (lower avg)
      const Wpool = [];
      for(let i=0;i<teams.length;i++) if(teams[i].players.length===base)
        Wpool.push({ i, score: avg(teams[i]) });
      Wpool.sort((a,b)=> a.score - b.score);
      const W = randomness !== 0 ? softminPick(Wpool, randomness*0.75, rng).i : Wpool[0].i;

      // Temporarily add u to S
      const tS = teams[S], tW = teams[W];
      tS.players.push(u);
      tS.sumGoals+=u.goals; tS.sumAssists+=u.assists; tS.sumCleanSheets+=u.cleanSheets; tS.sumTotal+=u.total;

      // Choose p ‚àà S\{u} to move to W, minimizing resulting range of team averages
      // Constraint: teams with more players (base+1) should not have higher averages
      // But allow violations with penalty to enable more randomness
      // Also consider co-occurrence penalties
      const candidates = tS.players.filter(x=>x.name!==u.name).map(p=>{
        const SsumAfter = tS.sumTotal - p.total;                   // S returns to base size
        const WsumAfter = tW.sumTotal + p.total;                   // W becomes base+1
        const SavgAfter = SsumAfter / base;                        // S average at base size
        const WavgAfter = WsumAfter / (base+1);                    // W average at base+1 size
        const avgs = teams.map((t,idx)=>{
          if(idx===S) return SavgAfter;
          if(idx===W) return WavgAfter;
          return avg(t);
        });
        const baseScore = range(avgs);
        
        // Add co-occurrence penalties
        // Penalty for u staying with remaining S players
        const penaltyS = calculateSameTeamPenalty(u.name, 
          tS.players.filter(x => x.name !== u.name && x.name !== p.name), 
          cooccurrence, penaltyFactor);
        // Penalty for p joining W players
        const penaltyW = calculateSameTeamPenalty(p.name, 
          tW.players, 
          cooccurrence, penaltyFactor);
        
        // Constraint: W (base+1) should not have higher average than S (base)
        // Add penalty for violations, but don't filter them out
        const constraintViolation = Math.max(0, WavgAfter - SavgAfter);
        const penalty = constraintViolation * 2; // Smaller penalty allows more violations
        return { p, score: baseScore + penalty + penaltyS + penaltyW, valid: constraintViolation === 0 };
      }).sort((a,b)=> a.score - b.score);

      // For deterministic (randomness=0), only consider valid candidates
      const candidatesToUse = randomness === 0 
        ? candidates.filter(c => c.valid)
        : candidates;
      
      // Fallback if no valid candidates (shouldn't happen, but safety)
      if(candidatesToUse.length === 0){
        // Just pick the weakest player from S
        const weakest = tS.players.filter(x=>x.name!==u.name)
          .sort((a,b)=> a.total - b.total)[0];
        candidatesToUse.push({ p: weakest, score: 0, valid: true });
      }

      const chosen = randomness !== 0 ? softminPick(candidatesToUse, randomness, rng) : candidatesToUse[0];
      const p = chosen.p;

      // Commit: move p to W (u stays on S)
      const rm = tS.players.findIndex(x=>x.name===p.name);
      tS.players.splice(rm,1);
      tS.sumGoals-=p.goals; tS.sumAssists-=p.assists; tS.sumCleanSheets-=p.cleanSheets; tS.sumTotal-=p.total;

      tW.players.push(p);
      tW.sumGoals+=p.goals; tW.sumAssists+=p.assists; tW.sumCleanSheets+=p.cleanSheets; tW.sumTotal+=p.total;
    }
  }

  // Calculate total co-occurrence penalty for final teams
  let totalPenalty = 0;
  const teamPairs = [];
  teams.forEach((team, teamIdx) => {
    const playerNames = team.players.map(p => p.name);
    for (let i = 0; i < playerNames.length; i++) {
      for (let j = i + 1; j < playerNames.length; j++) {
        const key = playerNames[i] < playerNames[j] 
          ? `${playerNames[i]}|${playerNames[j]}` 
          : `${playerNames[j]}|${playerNames[i]}`;
        const count = cooccurrence.get(key) || 0;
        if (count > 0) {
          const penalty = penaltyFactor * count * count;
          totalPenalty += penalty;
          teamPairs.push({ team: teamIdx, pair: key, count, penalty: penalty.toFixed(2) });
        }
      }
    }
  });
  
  if (totalPenalty > 0) {
    console.log(`=== TEAM BALANCING SUMMARY ===`);
    console.log(`Total co-occurrence penalty: ${totalPenalty.toFixed(2)}`);
    const topPenalties = teamPairs
      .sort((a, b) => parseFloat(b.penalty) - parseFloat(a.penalty))
      .slice(0, 5)
      .map(p => `Team ${p.team}: ${p.pair} (${p.count}x, penalty: ${p.penalty})`)
      .join(' | ');
    console.log(`Top penalties: ${topPenalties}`);
  } else {
    console.log(`=== TEAM BALANCING SUMMARY ===`);
    console.log(`No co-occurrence penalties applied (all new pairings)`);
  }

  // Shape for UI
  return teams.map(t=>{
    const n = t.players.length || 1;
    return {
      players: t.players,
      goals: t.sumGoals/n, assists: t.sumAssists/n, cleanSheets: t.sumCleanSheets/n, total: t.sumTotal/n
    };
  });
}

function setRandomness(value){
  document.getElementById('softTemp').value = value;
  document.querySelectorAll('#randomNone, #randomSome, #randomMuch, #randomTotal').forEach(btn => btn.classList.remove('active'));
  if(value === 0) document.getElementById('randomNone').classList.add('active');
  else if(value === 0.5) document.getElementById('randomSome').classList.add('active');
  else if(value === 1) document.getElementById('randomMuch').classList.add('active');
  else if(value === 'random') document.getElementById('randomTotal').classList.add('active');
  
  // Show/hide penalty factor based on randomness (only show for "None" = 0)
  const penaltyFactorContainer = document.getElementById('penaltyFactorContainer');
  if(penaltyFactorContainer){
    penaltyFactorContainer.style.display = (value === 0) ? 'block' : 'none';
  }
  
  // Show/hide seed based on randomness (hide for "None" = 0, show for others)
  const seedContainer = document.getElementById('seedContainer');
  if(seedContainer){
    seedContainer.style.display = (value === 0) ? 'none' : 'block';
  }
  
  saveTeamBalancerState();
}

function updateTeamBalancer(){
  const numTeams = parseInt(document.getElementById('teamCountSelect').value);
  const players = Array.from(selectedPlayers);
  
  if(players.length === 0){
    document.getElementById('teamBalancerResults').innerHTML = 
      '<div class="empty-state">Select players to balance teams</div>';
    return;
  }
  
  if(players.length < numTeams){
    document.getElementById('teamBalancerResults').innerHTML = 
      `<div class="empty-state">Need at least ${numTeams} players for ${numTeams} teams</div>`;
    return;
  }
  
  const tempVal = document.getElementById('softTemp')?.value;
  const temp01  = tempVal === 'random' ? 'random' : (parseFloat(tempVal) || 0);
  const seedVal = document.getElementById('softSeed')?.value;
  const seed    = seedVal === '' ? null : Number(seedVal);
  const penaltyFactorVal = document.getElementById('penaltyFactor')?.value;
  const penaltyFactor = penaltyFactorVal ? parseFloat(penaltyFactorVal) : 0.001;
  
  // Show spinner for optimal solver (None randomness, ‚â§24 players)
  const showSpinner = temp01 === 0 && players.length <= 24;
  if(showSpinner){
    const resultsEl = document.getElementById('teamBalancerResults');
    resultsEl.innerHTML = 
      '<div class="spinner-container"><div class="spinner"></div><div style="color:var(--muted);font-size:14px;">Finding optimal teams...</div></div>';
    
    // Force immediate repaint
    void resultsEl.offsetHeight;
    
    // Use requestAnimationFrame to ensure spinner renders before blocking computation
    requestAnimationFrame(() => {
      requestAnimationFrame(() => {
        setTimeout(() => {
          const teams = balanceTeams(players, numTeams, temp01, seed, penaltyFactor);
          renderTeams(teams, numTeams);
        }, 100);
      });
    });
    return;
  }
  
  const teams = balanceTeams(players, numTeams, temp01, seed, penaltyFactor);
  renderTeams(teams, numTeams);
}

function renderTeams(teams, numTeams){
  
  const teamNames = ['Blue', 'Yellow', 'Red', 'Black'];
  const html = teams.map((team, idx) => {
    const teamName = teamNames[idx] || `Team ${idx + 1}`;
    return `
      <div class="team-container">
        <div class="team-header">
          <div class="team-title">${teamName}</div>
          <div class="team-stats">
            <span>‚öΩ ${team.goals.toFixed(2)}</span>
            <span>üéØ ${team.assists.toFixed(2)}</span>
            <span>üõ°Ô∏è ${team.cleanSheets.toFixed(2)}</span>
            <span>Total: ${team.total.toFixed(2)}</span>
          </div>
        </div>
        <div class="team-players">
          ${team.players.map(p => `
            <div class="team-player-card">
              <div class="team-player-card-name">${p.isNew ? 'üÜï ' : ''}${p.name}</div>
              <div class="team-player-card-stats">
                ‚öΩ${p.goals.toFixed(2)} üéØ${p.assists.toFixed(2)} üõ°Ô∏è${p.cleanSheets.toFixed(2)}
                ${p.isNew ? '<br><span style="font-size:10px;color:var(--green);">(league average)</span>' : (p.attendance > 0 ? `<br><span style="font-size:10px;color:var(--muted-2);">(${p.attendance} practices)</span>` : '')}
              </div>
            </div>
          `).join('')}
        </div>
      </div>
    `;
  }).join('');
  
  document.getElementById('teamBalancerResults').innerHTML = html;
  
  // Save generated teams and state
  const tempVal = document.getElementById('softTemp')?.value;
  const temp01  = tempVal === 'random' ? 'random' : (parseFloat(tempVal) || 0);
  lastGeneratedTeams = { teams, html, numTeams, randomness: temp01, seed: document.getElementById('softSeed')?.value || '' };
  saveTeamBalancerState();
}

// Restore generated teams from saved state
function restoreGeneratedTeams(){
  if(lastGeneratedTeams && lastGeneratedTeams.html){
    document.getElementById('teamBalancerResults').innerHTML = lastGeneratedTeams.html;
  }
}

function showView(view, fromRestore = false){
  document.getElementById('totalView').style.display = (view==='total')?'block':'none';
  document.getElementById('weeklyView').style.display = (view==='weekly')?'block':'none';
  document.getElementById('teamsView').style.display = (view==='teams')?'block':'none';
  document.querySelectorAll('.btn').forEach(b=>b.classList.remove('active'));
  
  // Set active button - either from event or by finding the button
  if(!fromRestore && typeof event !== 'undefined' && event && event.target){
    event.target.classList.add('active');
  } else {
    // Find the button by its onclick attribute
    const buttons = document.querySelectorAll('.controls .btn');
    buttons.forEach(btn => {
      if(btn.getAttribute('onclick') === `showView('${view}')`){
        btn.classList.add('active');
      }
    });
  }
  
  // Save current tab
  try {
    localStorage.setItem('selectedTab', view);
  } catch(e) {
    console.warn('Failed to save selected tab:', e);
  }
  
  if(view==='total'){
    renderLeaderboard(); renderActiveStreaks(); renderHotStreak(); renderMilestones(); renderBiggestClimber(); renderSeasonStats();
  }else if(view==='weekly'){
    populatePracticeSelector(); updatePracticeView();
  }else if(view==='teams'){
    loadTeamBalancerState(); // Load saved state
    renderPlayerSelection();
    restoreGeneratedTeams(); // Restore teams if they exist
    if(!lastGeneratedTeams || !lastGeneratedTeams.html){
      document.getElementById('teamBalancerResults').innerHTML = 
        '<div class="empty-state">Select players and click "Generate Teams" to balance teams</div>';
    }
  }
}

// Restore the selected tab on page load
function restoreSelectedTab(){
  try {
    const savedTab = localStorage.getItem('selectedTab');
    if(savedTab && (savedTab === 'total' || savedTab === 'weekly' || savedTab === 'teams')){
      showView(savedTab, true);
      return;
    }
  } catch(e) {
    console.warn('Failed to restore selected tab:', e);
  }
  // Default to 'total' if no saved tab or error
  showView('total', true);
}

/* Initial paint - restore selected tab */
restoreSelectedTab();
</script>
</body>
</html>
